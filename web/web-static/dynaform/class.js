function NiceScroll(a){this.taId=a;this.ta=id(this.taId);if(1!=this.ta.nodeType)return null;this.st=el("label");this.sb=el("div");this.sbcH=this.avg=this.stH=this.scH=this.sbH=0;this.n=20;this.enabled=!0;this.mousePos=null;this.show=this.onSb=this.isScroll=!1;this.wtId=this.checkTt=null;this.woSpeed=this.wSpeed=this.wtCounter=0;this.sbStyle={position:"absolute",zIndex:1001,width:"0.583em",mTop:0,mLeft:0};this.stStyle={width:"0.583em",display:"inline-block",background:"#34A9DA",borderRadius:"3px",
position:"relative",cursor:"pointer"};this.stOpacity=0.1;"function"!=typeof this.init&&(NiceScroll.prototype.init=function(){this.sb.id=this.taId+"niceScrollSb"+(new Date).getTime();setStyle(this.sb,{backgroundColor:this.sbStyle.background||"transparent"});this.sb.appendChild(this.st);document.body.appendChild(this.sb);setStyle(this.sb,this.sbStyle);setStyle(this.st,this.stStyle);this._reset();!1==OS.portable?setStyle(this.ta,{overflow:"hidden"}):setStyle(this.ta,{overflow:"scroll"});this._shSb();
this._bind();this._scrollCheck()},NiceScroll.prototype._scrollCheck=function(){var a=this;this.checkTt=window.setTimeout(function(){a._scrollCheck()},10);this._check()},NiceScroll.prototype.scrollBarSet=function(a){if("object"==typeof a)for(var c in a)this.sbStyle[c]=a[c]},NiceScroll.prototype.scrollTipSet=function(a){if("object"==typeof a)for(var c in a)this.stStyle[c]=a[c]},NiceScroll.prototype.scrollTipOpacity=function(a){this.stOpacity=a},NiceScroll.prototype.scrollTo=function(a){a=parseFloat(a);
if(!0==isNaN(a))return!1;this.ta.scrollTop=a},NiceScroll.prototype._reset=function(){var a=$(this.ta).offset(),c=this.ta.offsetWidth,d=this.ta.offsetHeight-this.sbStyle.mTop,e=this.ta.scrollHeight-this.sbStyle.mTop,g=parseFloat(getNodeDefaultView(this.ta,"borderTopWidth"))||0,f=parseFloat(getNodeDefaultView(this.ta,"borderBottomWidth"))||0,h=parseFloat(getNodeDefaultView(this.ta,"borderRightWidth"))||0;parseFloat(getNodeDefaultView(this.ta,"borderLeftWidth"));this.scH=e-d+g+f;this.stH=parseInt(0.7*
(d/e)*d);this.sbcH=d-(this.stH+2);this.avg=this.scH/this.sbcH;0>=e-d?(setStyle(this.sb,{visibility:"hidden",top:"-9999px"}),this.show=!1):(this.show=!0,setStyle(this.sb,{visibility:"visible"}),setStyle(this.sb,{height:d+"px"}),$(this.sb).offset({top:parseInt(a.top+g+this.sbStyle.mTop),left:parseInt(a.left-this.sbStyle.mLeft+c-h-parseInt(this.sb.offsetWidth))}),setStyle(this.st,{top:this.ta.scrollTop/this.scH*this.sbcH+"px",height:this.stH+"px"}))},NiceScroll.prototype._bind=function(){function a(c){c=
c||window.event;var b=c.touches[0].clientY,f=b-d.mousePos.y,f=parseFloat(d.st.style.top)-f,f=f>=d.sbcH?d.sbcH:0>=f?0:f;d.st.style.top=f+"px";d.mousePos.y=b;d.isScroll=!0;!1==OS.portable&&(d.ta.scrollTop=d.scH*(f/d.sbcH),eventPreventDefault(c));clearSelection(c)}function c(e){detachEvnt(document,"touchmove",a);detachEvnt(document,"touchend",c);!1==d.onSb&&(d.isScroll=!1)}var d=this;document.attachEvent?(this.ta.attachEvent("onmousewheel",function(a){a=a||window.event;d._scroll(a)}),this.sb.attachEvent("onmousewheel",
function(a){a=a||window.event;d._scroll(a)})):(this.ta.addEventListener("mousewheel",function(a){a=a||window.event;d._scroll(a)},!1),this.ta.addEventListener("DOMMouseScroll",function(a){a=a||window.event;d._scroll(a)},!1),this.sb.addEventListener("mousewheel",function(a){a=a||window.event;d._scroll(a)},!1),this.sb.addEventListener("DOMMouseScroll",function(a){a=a||window.event;d._scroll(a)},!1));attachEvnt(this.ta,"touchstart",function(e){e=e||window.event;d.mousePos={x:e.touches[0].clientX,y:e.touches[0].clientY};
attachEvnt(document,"touchmove",a);attachEvnt(document,"touchend",c)});this.st.onmousedown=function(a){d.mousePos=getMousePos(a);document.onmouseup=function(a){document.onmousemove=null;document.onmouseup=null;!1==d.onSb&&(d.isScroll=!1)};document.onmousemove=function(a){var c=getMousePos(a),b=c.y-d.mousePos.y,b=parseFloat(d.st.style.top)+b,b=b>=d.sbcH?d.sbcH:0>=b?0:b;d.st.style.top=b+"px";d.mousePos.y=c.y;d.ta.scrollTop=d.scH*(b/d.sbcH);d.isScroll=!0;clearSelection(a)}};$("#"+this.sb.id)[0].onmouseover=
function(a){a=a||window.event;d.onSb=!0;!0==d.show&&d._scrollShow(a)};$("#"+this.sb.id)[0].onmouseout=function(){d.onSb=!1;d.isScroll=!1}},NiceScroll.prototype._close=function(){this.sb.style.visibility="hidden";this.enabled=!1},NiceScroll.prototype._open=function(){this.enabled=!0},NiceScroll.prototype._shSb=function(){this.sb.style.visibility="none"==this.ta.style.display||"hidden"==this.ta.visibility?"hidden":"visible"},NiceScroll.prototype._check=function(){null==id(this.taId)?(window.clearTimeout(this.checkTt),
this.sb.parentNode.removeChild(this.sb)):!1!=this.enabled&&(!1==checkInHorize(this.ta)?this.sb.style.display="none":(this.sb.style.display="block",0>=parseInt(this.ta.offsetHeight)&&(this.sb.style.visibility="hidden"),this._reset()))},NiceScroll.prototype._getWheelDelta=function(a){a=a||window.event;return a.wheelDelta?window.opera&&9.5>window.opera.version?-a.wheelDelta:a.wheelDelta:40*-a.detail},NiceScroll.prototype._wheelAnimateHandle=function(){var a=0,c=this;c.wtId=window.setTimeout(function(){c._wheelAnimateHandle()},
5);if(0>c.wtCounter)clearTimeout(c.wtId),c.wtId=null,!1==c.onSb&&(c.isScroll=!1);else{a=parseFloat(c.ta.scrollTop)+parseInt(c.wSpeed);if(a>=c.scH||0>=a)c.wtCounter=0;c.ta.scrollTop=a;a=c.ta.scrollTop/c.scH*c.sbcH;isNaN(a)||(c.st.style.top=a+"px");c.wtCounter--}},NiceScroll.prototype._wheelAnimate=function(a,c){var d=!1;this.wtId?(this.wtCounter=(d=0>(this.woSpeed^a))?c:50>this.wtCounter+c?this.wtCounter+c:50,this.wSpeed=d?a:1.05*this.wSpeed):(this.wtCounter=c,this.woSpeed=this.wSpeed=a,this._wheelAnimateHandle())},
NiceScroll.prototype._scrollShow=function(a){$("#"+this.sb.id).stop(!0).css("visibility","visible").css("opacity",1);this.isScroll=!0;eventPreventDefault(a)},NiceScroll.prototype._scroll=function(a){a=a||window.event;var c=0<this._getWheelDelta(a)?-1:1;!0==this.show&&!0==this.enabled&&(this._scrollShow(a),this._wheelAnimate(5*c,7));stopProp(a)})}
function DateControl(a,b){this.table;this.weekList;this.hourList;this.dateCon=id(a);this.weekIsMouseDown=!1;this.selDate=[0,0,0,0,0,0,0];this.dateArray=[0,0,0,0,0,0,0];this.cellWidth=this.cellHeight=22;this.cellSeColor="#A0D468";this.cellDeColor="#FCFCFC";this.cellPadding=1;void 0==DateControl.prototype.init&&(DateControl.prototype.hourStr=label.lHour,DateControl.prototype.weekDayNum=7,DateControl.prototype.lineStr="-",DateControl.prototype.selTag="selTag",DateControl.prototype.cellBorderWidth=1,
DateControl.prototype.iCellIndex=0,DateControl.prototype.weekArray=[label.Mon,label.Tue,label.Wen,label.Thu,label.Fri,label.Sta,label.Sun],DateControl.prototype._init=function(){this._initOptions();this._dateConInit();this._hourListInit();this._weekListInit();this._dateTableInit()},DateControl.prototype.reset=function(a){var b,e,g,f=this.iCellIndex;if(!1!=a instanceof Array&&void 0!=a&&a.length==this.weekDayNum)for(var h=0;h<this.weekDayNum;h++){e=this.table.rows[h];b=a[h];for(var k=0;24>k;k++)g=
e.cells[k],g=g.childNodes[f],void 0!=b?(this._setSel(g,b%2),b>>=1):this._setSel(g,0)}},DateControl.prototype._initOptions=function(){for(var a in b)"undefined"!=typeof this[a]&&(this[a]=b[a])},DateControl.prototype.getSelDate=function(){var a,b,e=this.weekDayNum,g=this.table.rows;this.selDate=[0,0,0,0,0,0,0];for(var f=0;f<e;f++){b=g[f];for(var h=0;24>h;h++)a=b.cells[h],a=a.childNodes[0],a=parseInt(a.getAttribute("sel")),1==a&&(this.selDate[f]+=Math.pow(2,h))}return this.selDate},DateControl.prototype._dateConInit=
function(){this.dateCon.style.overflow="hidden"},DateControl.prototype._hourListInit=function(){var a=document.createElement("ul"),b,e,g=this;a.className="hourList";for(var f=0;24>=f;f++)b=document.createElement("li"),24!=f?(e=document.createElement("span"),e.innerHTML=f,b.appendChild(e),b.style.width=this.cellWidth+2*this.cellPadding+this.cellBorderWidth+"px",e.onclick=function(a){return function(){for(var c=g.table.rows,b=c.length,d=g.iCellIndex,e=1,f=0;f<b&&(e&=parseInt(c[f].cells[a].childNodes[d].getAttribute("sel")),
0!=e);f++);e=1-e;for(f=0;f<b;f++)g._setSel(c[f].cells[a].childNodes[d],e);clearSelection()}}(f)):(b.style.color="#6EBFD9",b.innerHTML=this.hourStr),a.appendChild(b);this.dateCon.appendChild(a);this.hourList=a},DateControl.prototype._weekListInit=function(){var a=document.createElement("ul"),b,e=this;a.className="weekList";for(var g=0,f=this.weekDayNum;g<f;g++)b=document.createElement("li"),b.style.height=this.cellHeight+2*this.cellPadding+this.cellBorderWidth+"px",b.style.lineHeight=this.cellHeight+
2*this.cellPadding+this.cellBorderWidth+"px",b.innerHTML=this.weekArray[g],b.onclick=function(a){return function(){for(var c=e.table.rows[a].cells,b=e.iCellIndex,d=1,g=0,f=c.length;g<f&&(d&=parseInt(c[g].childNodes[b].getAttribute("sel")),0!=d);g++);d=1-d;g=0;for(f=c.length;g<f;g++)e._setSel(c[g].childNodes[b],d);clearSelection()}}(g),a.appendChild(b);this.dateCon.appendChild(a);this.weekList=a},DateControl.prototype._setSel=function(a,b){a.setAttribute("sel",b);a.style.backgroundColor=1==b?this.cellSeColor:
this.cellDeColor},DateControl.prototype._dateCellCreate=function(){for(var a,b,e,g,f=this,h=0,k=this.weekDayNum;h<k;h++){b=this.table.insertRow(-1);void 0!=this.dateArray&&(a=this.dateArray[h]);for(var l=0;24>l;l++)e=b.insertCell(-1),e.style.padding=this.cellPadding+"px",e.className="weekTd",g=document.createElement("i"),g.className="tableICell",g.style.height=this.cellHeight+"px",g.style.width=this.cellWidth+"px",e.appendChild(g),this._setSel(g,0),void 0!=a?(this._setSel(g,a%2),a>>=1):this._setSel(g,
0),g.onmouseover=function(a){!0==f.weekIsMouseDown&&f._setSel(this,1-parseInt(this.getAttribute("sel")))},g.onmousedown=function(a){f._setSel(this,1-parseInt(this.getAttribute("sel")))}}3==this.table.rows[0].cells[0].nodeType&&(this.iCellIndex=1)},DateControl.prototype._dateCellBind=function(){var a=this;this.table.onmousedown=function(b){a.weekIsMouseDown=!0;document.onmouseup=function(b){a.weekIsMouseDown=!1}};this.table.onmouseup=function(b){a.weekIsMouseDown=!1}},DateControl.prototype._dateTableCreate=
function(){this.table=document.createElement("table");this.table.className="tableWeek";this.table.cellspacing="0px";this.table.cellpadding="0px";this.dateCon.appendChild(this.table)},DateControl.prototype._dateTableInit=function(){this._dateTableCreate();this._dateCellCreate();this._dateCellBind()});this._init()}
function PageFunc(){this.pathStr="../";this.htmlPathStr=this.pathStr+"pc/";this.detectPathStr="/../web-static/images/logo.png";this.loginId="Login";this.coverId="Cover";this.cloudPageId="CloudAccountPage";this.loadPageData={url:"",id:"",options:{},handle:{},handlePre:{}};this.loginPageData={url:"",id:""};this.showLoginHideNodesDelayHd;this.helpIdStr="helpStr";this.helpTopClassStr="helpTopClass";this.LGUSRSTR="lgUsr";this.LGKEYSTR="lgKey";this.LGKEYLEN="lgKeyLen";this.LGKEYTIMESTR="lgKeyTime";this.gDomainDNS=
"tplogin.cn";this.gDomainDetectArr=null;this.g_cur_host_mac="00-00-00-00-00-00";this.gUsernameSupport=!1;this.$Init=function(){Load.call(jQuery);$.getExplorer();$.initUrl()};this.refreshSession=function(a){$.refreshSession(this.htmlPathStr+"Content.htm",a)};this.loadPageHandleBg=function(){for(var a=$("i.helpBtn"),b,c,d=0,e=a.length;d<e;d++)c=a[d],b=c.getAttribute(helpIdStr),c=c.getAttribute(helpTopClassStr),null!=b&&helpBind(a[d],b,c)};this.loadLgLessPage=function(a,b,c,d){d=void 0==d?{}:d;d.htmlPathStr=
this.pathStr+"loginLess/";this.loadPage(a,b,c,d)};this.loadAppPage=function(a,b,c,d){d=void 0==d?{}:d;$.local&&(a="../pc/"+a);d.htmlPathStr="";this.loadPage(a,b,c,d)};this.loadPage=function(a,b,c,d,e){var g=this;window.setTimeout(function(){var f=g.htmlPathStr;helpClose();closeAlert();closeConfirm();closeLoading();basicAppUpgradeInfoClose();d=void 0==d?{}:d;f=void 0==d.htmlPathStr?f:d.htmlPathStr;!1!==d.bRecordLoadPage&&setLoadPage(a,b,d,c,e);$.load(f+a,function(a){"function"==typeof c&&c(a)},b,d,
function(a){closeProgBar();"function"==typeof e&&e(a)})},0)};this.unloadDetail=function(a){(a=id(a))&&emptyNodes(a)};this.detailShow=function(a,b){$("#"+a).fadeIn(800,b)};this.detailHide=function(a,b){$("#"+a).fadeOut(800,function(){$("#"+a).css("display","none");window.unloadDetail(b)})};this.selectChange=function(a,b){id(a).value=b.options[b.selectedIndex].text};this.showCon=function(a){var b=id(a),c,d=document.body.childNodes,e;for(e in d)c=d[e],void 0!=c.nodeName&&"DIV"==c.nodeName.toUpperCase()&&
c.id!=a&&setStyle(c,{display:"none"});setStyle(b,{display:"block"})};this.loginChange=function(a){function b(){for(var a in f)g=f[a],void 0!=g.nodeName&&"DIV"==g.nodeName.toUpperCase()&&g.id!=h.loginId&&g.id!=h.coverId&&h.setStyle(g,{display:d});h.setStyle(c,{display:e});"function"==typeof showLoginHideNodesDelayHd&&showLoginHideNodesDelayHd()}var c=this.id(this.loginId),d="block",e="none",g,f=document.body.childNodes,h=this;!0==a&&(d="none",e="block");emptyNodes(c);!0==a?(a=$.authRltObj.code,ESYSRESET==
a?(!0==OS.portable&&!1==OS.iPad?loadLgLessPage("PhoneSetPwd.htm","Con",void 0,{bRecordLoadPage:!1}):loadPage("LoginChgPwd.htm","Login",b,{bRecordLoadPage:!1}),emptyNodes(id("Con")),setLoadPage("Content.htm","Con")):ESYSLOCKEDFOREVER==a||ESYSLOCKED==a?$.queryAuthLog(function(a){$.authRltObj.authLog=a.unauth_log_list;$.authRltObj.client=a.curIP;b();loadLgLessPage("LoginAuthLog.htm","Login",void 0,{bRecordLoadPage:!1})}):!0==OS.portable&&!1==OS.iPad&&!1==phoneSet.bContinuePCSet?loadLgLessPage("PhoneApp.htm",
"Con",void 0,{bRecordLoadPage:!1}):loadPage("Login.htm","Login",b,{bRecordLoadPage:!1})):(this.loadPageData.options=this.loadPageData.options||{},this.loadPageData.options.bRecordLoadPage=!1,this.loadPage(this.loadPageData.url,this.loadPageData.id,function(){"function"==typeof h.loadPageData.handle&&h.loadPageData.handle()},this.loadPageData.options,function(){b();"function"==typeof h.loadPageData.handlePre&&h.loadPageData.handlePre()}))};this.setLoadPage=function(a,b,c,d,e){this.loadPageData.url=
a;this.loadPageData.id=b;this.loadPageData.options=c;this.loadPageData.handle=d;this.loadPageData.handlePre=e};this.localSgInit=function(){try{this.sessionLS.init(),!0==isIE&&!1==isIENormal&&function(){sessionLS.setExpire(3E3);window.setTimeout(arguments.callee,1E3)}()}catch(a){}"undefined"!=typeof this.gUsernameSupport&&this.gUsernameSupport&&this.getLgUsr();this.getLgPwd()};this.auth=function(){$.auth($.pwd)};this.getLgUsr=function(){try{$.usr=sessionLS.getItem(this.LGUSRSTR)}catch(a){}};this.getLgPwd=
function(){try{$.pwd=sessionLS.getItem(this.LGKEYSTR),0==gCloudAccountBR.pwdLen&&(gCloudAccountBR.pwdLen=parseInt(sessionLS.getItem(this.LGKEYLEN)))}catch(a){}};this.showLogin=function(a){this.showLoginHideNodesDelayHd=a;this.loginChange(!0)};this.unloadLogin=function(){this.loginChange(!1)};this.ifrmOrgUrl=function(a){return"/stok="+encodeURIComponent($.session)+"?code="+a};this.iFrmOnload=function(a,b,c){var d;c=ENONE;a=id(a);var e,g;try{d=a.contentWindow?a.contentWindow.document.body?a.contentWindow.document.body.innerHTML:
null:a.contentDocument.document.body?a.contentDocument.document.body.innerHTML:null;if(/(<pre>)?(.+)(<\/pre>)+/.test(d)||/(<pre>)?(.+)/.test(d))e=RegExp.$2;g=JSON.parse(e);c=g[ERR_CODE];c!=ENONE&&closeProgBar();b(c,g)}catch(f){closeProgBar(),b(EINVFMT)}};this.windowSleep=function(a){var b=new Date;for(a=b.getTime()+a;!(b=new Date,b.getTime()>a););};this.getCurrPcMac=function(){var a,b=$.getPeerMac();if(ENONE!=b.errorno||""==b.data)return"00-00-00-00-00-00";a=b.data.indexOf("\r\n");return b.data.substring(0,
a)};this.cloneLocalMac=function(){var a=$.readEx(SYSTEM_DATA_ID),b=this.getCurrPcMac(),c=ENONE;a.mac[1]!=b&&(a.mac[1]=b,c=$.write($.toText(a),$.block));return c};this.logSave=function(){var a=$.domainUrl;a.lastIndexOf("/")==a.length-1&&(a=a.substring(0,a.length-1));location.href=a+$.orgURL("/syslog.txt?disposition=1");return!0};this.pageRedirect=function(){var a=window.top.location.href,b=/^((https?:\/\/)*(\d{1,3}\.){3}\d{1,3})/g,c=/^((https?:\/\/)*\[\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*\])/g;
("undefined"==typeof MULTI_DOMAIN_SUPPORT||!MULTI_DOMAIN_SUPPORT)&&USER_GROUP_REMOTE!=$.authRltObj.group&&!1==b.test(a)&&!1==c.test(a)&&0>a.indexOf(gDomainDNS)&&!1==$.local&&(window.top.location.href=window.top.location.protocol+"//"+gDomainDNS)};this.lanConnectTestTimer=null;this.lanDetectFailCount=0;this.lanConnectTest=function(){var a=function(){lanDetectFailCount=0;clearInterval(c);$("#Error .detail").html()==label.disconnectWarning&&closeAlert()},b=function(){lanDetectFailCount++;console.log(lanDetectFailCount);
5<=lanDetectFailCount&&(lanDetectFailCount=0,clearInterval(c),clearTimeout(lanConnectTestTimer),null!==id("Cover")&&"none"!==id("Cover").style.display||null!==id("CoverB")&&"none"!==id("CoverB").style.display||null!==id("CoverC")&&"none"!==id("CoverC").style.display||showAlert(label.disconnectWarning,void 0,void 0,function(){window.location.reload()},btn.refresh,!1))},c=setInterval(function(){$.detect(a,5E3,b)},1E3);lanConnectTestTimer=setTimeout(function(){clearInterval(c);lanConnectTest()},3E4)};
this.resizeWindow=function(){var a=$(window).width(),b;980<a?(b=(a-980)/2+235,a=(a-980)/2+745-20,"number"==typeof b&&0!=b%1&&(b=parseInt(b)+1,a=parseInt(a))):(b=235,a=745);$("#resizeStyle").remove();$(document.body).append('<style id="resizeStyle">div.bConfLCnt{width:'+b+"px;}div.bConfRCnt{width:"+a+"px;}#headLCnt{width:"+b+"px;}#headRCnt{width:"+a+"px;}</style>")};this.pageOnload=function(){var a=[{tag:"link",url:"../web-static/dynaform/DataGrid.css"},{tag:"link",url:"../web-static/dynaform/PortConfig.css"}],
b=[{tag:"script",url:"../web-static/dynaform/DataGrid.js"},{tag:"script",url:"../web-static/dynaform/PortConfig.js"},{tag:"script",url:"../web-static/dynaform/menu.js"}],c=[{tag:"script",url:"../web-static/lib/ajax.js"},{tag:"script",url:"../web-static/dynaform/uci.js"},{tag:"script",url:"../web-static/language/cn/str.js"},{tag:"script",url:"../web-static/language/cn/error.js"},{tag:"script",url:"../web-static/lib/verify.js"},{tag:"script",url:"../web-static/dynaform/macFactory.js"},{tag:"script",
url:"../web-static/dynaform/settings.js"},{tag:"script",url:"../web-static/dynaform/qrcode.js"}];this.loadExternResource({scripts:[{tag:"script",url:"../web-static/lib/json.js"},{tag:"script",url:"../web-static/lib/jquery-1.10.1.js"}],callBack:function(){this.loadExternResource({scripts:c,callBack:function(){var c=window.top.location.href;$Init();$.setexternJSP(replaceJSP);$.setExternPageHandle(loadPageHandleBg);$.setLoginErrHandle(showLogin);$.setPRHandle(pageRedirect);this.loadExternResource({scripts:b,
links:a});this.compatibleShow();this.localSgInit();!1==OS.portable&&this.lanConnectTest();$(window).resize(resizeWindow);!0==$.local?this.loadPage("Content.htm","Con"):!1==/^((https?:\/\/)*(\d{1,3}\.){3}\d{1,3})/g.test(c)&&0<=c.indexOf(gDomainDNS)?(c={},c[uciSystem.actionName.getDomainArray]=null,$.action(c,function(a){ENONE==a[ERR_CODE]?(a=a[uciSystem.dynData.domainArray],1<a.length?(this.gDomainDetectArr=a,this.loadLgLessPage("RouterSelect.htm","Con",void 0,{bRecordLoadPage:!1})):this.loadPage("Content.htm",
"Con")):this.loadPage("Content.htm","Con")})):this.loadPage("Content.htm","Con")}})}});document.oncontextmenu=function(a){return!1};if(isIESix)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}};this.loadExternResource=function(a){var b,c,d,e,g=document.getElementsByTagName("head")[0];b={links:null,scripts:null,callBack:null};for(var f in a)b[f]=a[f];a=b.links;c=b.scripts;d=b.callBack;if(void 0!=a)for(var h in a)b=document.createElement("link"),b.rel="stylesheet",b.href=a[h].url,g.appendChild(b);
if(void 0!=c){var k;b=document.createElement("script");b.type="text/javascript";if(void 0!=d)for(h in e=void 0!=b.readyState,k=function(a){c[a].loadState=!0;for(var b in c)if(!1==c[b].loadState)return;d()},c)c[h].loadState=!1;for(h in c)b=document.createElement("script"),b.type="text/javascript",void 0!=d&&(e?b.onreadystatechange=function(a){return function(){if("loaded"==this.readyState||"complete"==this.readyState)this.onreadystatechange=null,k(a)}}(h):b.onload=function(a){return function(){k(a)}}(h)),
b.src=c[h].url,g.appendChild(b)}}}
function Cover(){Style.call(this);this.CoverId="Cover";this.CoverIdB="CoverB";this.CoverIdC="CoverC";this.hideCover=function(a,b){var c=id(this.CoverId);this.setStyle(c,{display:"none",visibility:"hidden"});this.setStyle(c,b);"function"==typeof a&&a(c);emptyNodes(c)};this.showCover=function(a,b){var c=id(this.CoverId);this.setStyle(c,{display:"block",visibility:"visible"});this.setStyle(c,b);$(c).css("opacity","0.8");"undefined"!=typeof a&&a(c)};this.showCoverB=function(a,b){var c=id(this.CoverIdB);
void 0==c&&(c=document.createElement("div"),c.id=this.CoverIdB,document.body.appendChild(c));this.setStyle(c,{display:"block",visibility:"visible"});this.setStyle(c,b);$(c).css("opacity","0.8");"undefined"!=typeof a&&a(c)};this.hideCoverB=function(a,b){var c=id(this.CoverIdB);void 0!=c&&(this.setStyle(c,{display:"none",visibility:"hidden"}),this.setStyle(c,b),"function"==typeof a&&a(c),emptyNodes(c))};this.showCoverC=function(a,b){var c=id(this.CoverIdC);void 0==c&&(c=document.createElement("div"),
c.id=this.CoverIdC,document.body.appendChild(c));this.setStyle(c,{display:"block",visibility:"visible"});this.setStyle(c,b);$(c).css("opacity","0.8");"undefined"!=typeof a&&a(c)};this.hideCoverC=function(a,b){var c=id(this.CoverIdC);void 0!=c&&(this.setStyle(c,{display:"none",visibility:"hidden"}),this.setStyle(c,b),"function"==typeof a&&a(c),emptyNodes(c))}}
function Style(){this.disableCol="#b2b2b2";this.setStyle=function(a,b){if(null!=a&&null!=b&&1==a.nodeType)for(var c in b)try{a.style[c]=b[c]}catch(d){}};this.getNodeDefaultView=function(a,b){var c=null;if(!a)return null;try{return c=a.currentStyle?a.currentStyle:document.defaultView.getComputedStyle(a,null),void 0!=b?c[b]:c}catch(d){}}}
function LocalStorageSD(){try{this.sessionLS=null==this.sessionStorage?{file_name:"user_data_default_SD",dom:null,init:function(){var a=document.createElement("input");a.type="hidden";a.addBehavior("#default#userData");document.body.appendChild(a);a.save(this.file_name);this.dom=a},setItem:function(a,c){this.dom.setAttribute(a,c);this.dom.save(this.file_name)},getItem:function(a,c){this.dom.load(this.file_name);return this.dom.getAttribute(a)},removeItem:function(a){this.dom.removeAttribute(a);this.dom.save(this.file_name)},
setExpire:function(a){var c=new Date,c=new Date(c.getTime()+a);this.dom.load(this.file_name);this.dom.expires=c.toUTCString();this.dom.save(this.file_name)}}:sessionStorage}catch(a){}}
function Explorer(){this.isIETenLess=this.isIENormal=this.isIESeven=this.isIESix=this.isIE=!1;this.explorerInfo=navigator.userAgent;this.getIEInfo=function(){isIE=/msie ((\d+\.)+\d+)/i.test(explorerInfo)?document.mode||RegExp.$1:!1;!1!=isIE&&(6>=isIE?this.isIESix=!0:7==isIE?this.isIESeven=!0:9<=isIE&&(this.isIENormal=!0),10>=isIE&&(this.isIETenLess=!0),this.isIE=!0)};this.compatibleShow=function(){if(!0==this.isIESix){var a,b,c,d,e;0<=document.cookie.indexOf("ieSixClosed")||(a=$("div.ieSixCompatible"),
void 0==a[0]&&(a=el("div"),a.className="ieSixCompatible",b=el("div"),b.className="ieSixCpCon",c=el("i"),d=el("span"),d.className="spanNote",d.innerHTML=label.IESixCpTip,e=el("span"),e.className="spanClose",e.innerHTML=label.iknown,e.onclick=function(){document.cookie="ieSixClosed=true";a.style.visibility="hidden";a.style.top="-9999px"},b.appendChild(c),b.appendChild(d),b.appendChild(e),a.appendChild(b),document.body.appendChild(a)))}};this.createGroupRadio=function(a){var b;if(void 0==a)return b;
!0==this.isIE&&!1==this.isIENormal?b=document.createElement("<input name='"+a+"' />"):(b=document.createElement("input"),b.name=a);return b};this.getIEInfo()}
function Tool(){this.gAppPreUrl="";Style.call(this);this.id=function(a){if(void 0!=a)return document.getElementById(a)};this.el=function(a){try{return document.createElement(a)}catch(b){return null}};this.replaceJSP=function(a){var b=null,c,d=/{%(\w+)\.(\w+)%}/i,e=/{#appPreUrl#}/g,b=d.exec(a);try{for(;null!=b;)c=language[b[1]][b[2]],a=a.replace("{%"+b[1]+"."+b[2]+"%}",c),b=d.exec(a)}catch(g){}try{!0==$.local&&(e=/{#appPreUrl#}\//g),a=a.replace(e,gAppPreUrl)}catch(f){}return a};this.getoffset=function(a,
b){for(var c=a,d={top:0,left:0};c!=b;)d.left+=parseInt(c.offsetLeft),d.top+=parseInt(c.offsetTop),c=c.offsetParent;return d};this.attachEvnt=function(a,b,c){0==b.indexOf("on")&&(b=b.substring(2));document.body.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)};this.detachEvnt=function(a,b,c){0==b.indexOf("on")&&(b=b.substring(2));document.body.attachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)};this.stopProp=function(a){a=a||window.event;void 0!=a&&(a.stopPropagation?a.stopPropagation():
a.cancelBubble=!0)};this.eventPreventDefault=function(a){a=a||window.event;void 0!=a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};this.clearSelection=function(){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()};this.setDomCursorPos=function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0);c.moveEnd("character",b);c.moveStart("character",b);c.select()}};this.getMousePos=
function(a){a=a||window.event;var b=document;return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+b.documentElement.scrollLeft-b.documentElement.clientLeft,y:a.clientY+b.documentElement.scrollTop-b.documentElement.clientTop}};this.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};this.upDown=function(a,b,c,d,e){if(void 0!=c&&void 0!=d){var g=this.el("label");g.className=d;g.onclick=function(){$("#"+b).slideToggle("normal",function(){g.className=g.className==c?d:
c;if(e)try{e()}catch(a){}})};a.appendChild(g);return g}};this.arrowUpDown=function(a,b,c){this.upDown(a,b,"arrowUp","arrowDown",c)};this.getChildNode=function(a,b,c){a=a.childNodes;var d=[],e=0,g;g=b.split(" ");b=g[0];for(var f=g[1],h=0,k=a.length;h<k;h++)g=a[h],1==g.nodeType&&g.tagName.toLowerCase()==b&&(void 0!=f&&g.type==f?(d[e]=g,e++):void 0==f&&(d[e]=g,e++));return void 0!=c?d[c]:d[0]};this.checkInHorize=function(a){for(;null!=a&&"HTML"!=a.nodeName.toUpperCase();){if("hidden"==this.getNodeDefaultView(a,
"visibility")||"none"==this.getNodeDefaultView(a,"display"))return!1;a=a.parentNode}return!0};this.setUrlHash=function(a,b){var c,d,e;c="";var g=location.href;d=location.hash;void 0!=a&&void 0!=b&&0!=a.length&&(0!=d.length?(e=d.indexOf(a),0<=e?(c=d.substring(0,e),d=d.substring(e),e=d.indexOf("#"),0<e?(d=d.substring(e),d=c+a+"="+b+d):d=c+a+"="+b):("#"!=d.substring(d.length-1)&&(c="#"),d+=c+a+"="+b),location.href=g.substring(0,g.indexOf("#"))+d):g.lastIndexOf("#")==g.length-1?location.href+=a+"="+b:
location.href+="#"+a+"="+b)};this.getUrlHash=function(a){var b=location.hash,c,d="";if(0<b.indexOf(a)){var b=b.substring(1).split("#"),e;for(e in b)if(c=b[e].split("="),c[0]==a){d=c[1];break}}return d};this.changeUrlHash=function(a){var b=location.href,c=b.indexOf("#");void 0!=a&&(location.href=0<c?b.substring(0,c+1)+a:b+"#"+a)};this.setInputCursor=function(a){this.setDomCursorPos(a,a.value.length)};this.getCNStrLen=function(a){return a.replace(/[^\x00-\xFF]/g,"xxx").length};this.getDisplayStrLen=
function(a){return a.replace(/[^\x00-\xFF]/g,"xx").length};this.getStrInMax=function(a,b){var c="",d,e=0;d=a.replace(/[A-Z]/g,"xx");if(getDisplayStrLen(d)<=b)return a;for(var g=1;g<=b;g++){d=a.charAt(e);if(""==d)break;1<getDisplayStrLen(d)?(g+=getDisplayStrLen(d)-1,c+=d,beCut=!0):!0==/[A-Z]/g.test(d)?(g++,c+=d,beCut=!0):c+=d;e++}return c+"..."};this.EncodeURLIMG=document.createElement("img");this.escapeDBC=function(a){var b=this.EncodeURLIMG;if(!a)return"";if(window.ActiveXObject)return execScript('SetLocale "zh-cn"',
"vbscript"),a.replace(/[\d\D]/g,function(a){window.vbsval="";execScript('window.vbsval=Hex(Asc("'+a+'"))',"vbscript");return"%"+window.vbsval.slice(0,2)+"%"+window.vbsval.slice(-2)});b.src="nothing.png?separator="+a;return b.src.split("?separator=").pop()};this.encodeURL=function(a){return encodeURIComponent(a)};this.doNothing=function(){return!0};this.htmlEscape=function(a){void 0!=a&&(a=a.toString().replace(/[<>&"]/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";
case '"':return"&quot;"}}));return a};this.orgAuthPwd=function(a){return this.securityEncode(a,"RDpbLfCPsJZ7fiv","yLwVl0zKqws7LgKPRQ84Mdt708T1qQ3Ha7xv3H7NyU84p21BriUWBU43odz3iP4rBL3cD02KZciXTysVXiV8ngg6vL48rPJyAUw0HurW20xqxv9aYb4M9wK1Ae0wlro510qXeU07kV57fQMc8L6aLgMLwygtc0F10a0Dg70TOoouyFhdysuRMO51yY5ZlOZZLEal1h0t9YQW0Ko7oBwmCAHoic4HYbUyVeU3sfQ1xtXcPcf1aT303wAQhv66qzW")};this.securityEncode=function(a,b,c){var d="",e,g,f,h,k=187,l=187;g=a.length;f=b.length;h=c.length;e=g>f?g:f;for(var m=0;m<e;m++)l=
k=187,m>=g?l=b.charCodeAt(m):m>=f?k=a.charCodeAt(m):(k=a.charCodeAt(m),l=b.charCodeAt(m)),d+=c.charAt((k^l)%h);return d};this.simulateMouseC=function(a){simulateMouseC=!0==isIE&&!1==isIENormal?function(a){var c=document.createEventObject();c.sceenX=100;c.sceenY=0;c.clientX=0;c.clientY=0;c.ctrlKey=!1;c.altKey=!1;c.shiftKey=!1;c.button=0;a.fireEvent("onclick",c)}:function(){};simulateMouseC(a)};this.emptyNodes=function(a){for(;a&&a.firstChild;)a.removeChild(a.firstChild)};this.netSpeedTrans=function(a){a=
parseInt(a);a=1073741824<=a?(a/1073741824).toFixed(0)+"GB/s":1048576<=a?(a/1048576).toFixed(0)+"MB/s":(a/1024).toFixed(0)+"KB/s";return a.toString()};this.debugInfo=function(a){console.log(a)};this.compareObj=function(a,b){var c=!0,d;for(d in a)if("object"==typeof a[d])if(void 0!=b[d]){if(c=compareObj(a[d],b[d]),!1==c)return!1}else return!1;else if(a[d]!=b[d])return!1;return c};this.replaceUnicodeBlank=function(a){if(void 0!=a&&void 0!=a.value){var b=a.value,c=b.replace(/[\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000]/gi,
" ");b!==c&&(a.value=c);return c}};this.adaptCNABrowserInput=function(a){try{"NO"!=gBeInCNA&&(id(a).onfocus=function(){var a=this,b=a.value;a.value="";a.type="password";$.setTimeout(function(){a.type="text";a.value=b},0)})}catch(b){}}}
function Switch(a,b,c){this.switchCon=id(a);this.switchBall=$("#"+a+" i.switchBall")[0];this.switchBg=$("#"+a+" i.switchBg")[0];this.callback=c;this.state=b;this.rightPos;"function"!=typeof Switch.prototype.switchInit&&(Switch.prototype.switchInit=function(){var a=this.state,b=this.switchBall,c=this.switchCon,f=this.switchBg;null!=c&&null!=b&&(this.rightPos=c.offsetWidth-b.offsetWidth,this.setState(a),this.callback&&this.callback(a),b.onmousedown=this.draggableBind(),f.onclick=this.switchBgClick())},
Switch.prototype.setState=function(a){var b=this.switchCon,c=this.switchBall;this.state=a;b.value=a;c.style.left=a*this.rightPos+"px";c.style.backgroundColor=1==a?"#FEEB1A":"#D9D9D9"},Switch.prototype.switchChgState=function(a){a=1-a;this.setState(a);this.callback&&this.callback(a)},Switch.prototype.switchCHandle=function(){var a=this.state,b=this.switchBall,c=1==a?-1:1,f=parseInt(b.style.left),h=this.rightPos,k=this;1==a&&0>=f||0==a&&f>=h?this.switchChgState(a):(b.style.left=f+c*h/8+"px",window.setTimeout(function(){k.switchCHandle()},
20))},Switch.prototype.msMove=function(a,b,c){b=b.x-c.x;c=this.switchCon.offsetWidth-a.offsetWidth;b=0<b?b:0;a.style.left=(b>c?c:b)+"px"},Switch.prototype.switchBgClick=function(){var a=this;return function(b){b=b||window.event;a.switchBg==(b.target||b.srcElement)&&a.switchCHandle()}},Switch.prototype.draggableBind=function(){var a=this;return function(b){b=b?b:window.event;var c=getMousePos(b),f=b.target||b.srcElement,h={x:c.x-f.offsetLeft};document.onmousemove=function(b){b=b?b:window.event;b=getMousePos(b);
clearSelection();a.msMove(f,b,h)};document.onmouseup=function(b){clearSelection();document.onmousemove=null;document.onmouseup=null;a.switchCHandle()};stopProp(b)}});this.switchInit()}
function HighSet(){this.IMG_HS_LOADING_GREEN="IMG_HS_LOADING_GREEN";this.IMG_HS_LOADING_BLUE="IMG_HS_LOADING_BLUE";this.IMG_HS_LOADING_RED="IMG_HS_LOADING_RED";this.IMG_HS_LOADING_YELLOW="IMG_HS_LOADING_YELLOW";this.IMG_HS_LOADING_WZD="IMG_HS_LOADING_WZD";this.hsLoadingObj={subBtnId:"",handleLoad:"",handleDelayHd:null,loadImgKey:IMG_HS_LOADING_BLUE,loadImgCol:{IMG_HS_LOADING_GREEN:"hsLoadingGreen.gif",IMG_HS_LOADING_BLUE:"hsLoadingBlue.gif",IMG_HS_LOADING_RED:"hsLoadingRed.gif",IMG_HS_LOADING_YELLOW:"hsLoadingYellow.gif",
IMG_HS_LOADING_WZD:"wzdDetecting.gif"}};this.hsStatSet=function(a,b,c){var d,e;void 0==c?(d=$("ul.gridStatus")[0],e=$("ul.gridStatus label")[0],statPic=$("ul.gridStatus i")[0]):(d=$("#"+c)[0],e=$("#"+c+" label")[0],statPic=$("#"+c+" i")[0]);switch(a){case "null":d.style.visibility="hidden";break;case "correct":e.innerHTML=b;statPic.style.background="url(../web-static/images/routerBg.png) -353px -122px no-repeat";d.style.visibility="visible";break;case "error":e.innerHTML=b;statPic.style.background=
"url(../web-static/images/routerBg.png) -306px -209px no-repeat";d.style.visibility="visible";break;case "link":e.innerHTML=b;statPic.style.background="url(../web-static/images/routerBg.png) -372px -123px no-repeat";d.style.visibility="visible";break;case "exception":e.innerHTML=b;statPic.style.background="url(../web-static/images/routerBg.png) -334px -123px no-repeat";d.style.visibility="visible";break;default:d.style.visibility="hidden"}};this.disInputTip=function(a,b){null!=a&&void 0!=b&&("error"==
b.toLowerCase()?this.setStyle(a,{visibility:"visible",background:"url(../../web-static/images/wzd.png) no-repeat -116px -243px"}):"ok"==b.toLowerCase()?this.setStyle(a,{visibility:"visible",background:"url(../../web-static/images/wzd.png) no-repeat -95px -243px"}):"warn"==b.toLowerCase()?this.setStyle(a,{visibility:"visible",background:"url(../../web-static/images/wzd.png) no-repeat -137px -243px"}):a.style.visibility="hidden")};this.initHoverBd=function(){$("input.hoverBd").bind("focus",function(){this.parentNode.style.border=
"1px solid #A0D468"}).bind("blur",function(){this.parentNode.style.border="1px solid #FFFFFF"})};this.disableInput=function(a,b){var c="object"==typeof a?a:id(a);c.disabled=b?!0:!1;c.style.color=b?"#B2B2B2":"#FFFFFF"};this.disableBtn=function(a,b){var c="object"==typeof a?a:id(a),d=c.className;c.disabled!=b&&(c.disabled=b?!0:!1,c.className=b?d.replace("subBtn","subBtnDis"):d.replace("subBtnDis","subBtn"))};this.disableClick=function(a,b,c){a="object"==typeof a?a:id(a);c=null;null==a.disableTimes&&
(a.disableTimes=0);if(!0==b)return 0>=a.disableTimes&&(a.oldOnClick=a.onclick,a.onclick=null),c=a.oldOnClick,a.disableTimes++,c;a.disableTimes--;0>=a.disableTimes&&(null==a.onclick&&(a.onclick=a.oldOnClick),a.oldOnClick=null);return null};this.setLoadingId=function(a,b){this.hsLoadingObj.subBtnId=a;this.hsLoadingObj.loadImgKey=void 0==b?IMG_HS_LOADING_BLUE:b;this.hsLoadingObj.subBtnObj=id(a)};this.hsLoading=function(a,b){var c=this.hsLoadingObj,d=id(c.subBtnId),e,g,f,h,k,l,m;null!=d&&d==c.subBtnObj&&
(k=d.parentNode,k.style.position="relative",h=d.offsetWidth,e=d.offsetLeft,f=d.offsetTop,g=d.offsetHeight,m=$("#"+c.subBtnId+" ~ div.hsLoadingCon")[0],l=$("#"+c.subBtnId+" ~ div.hsLoadingCon img")[0],window.clearTimeout(c.handleDelayHd),!0==a?(d.style.visibility="hidden",void 0==m?(m=el("div"),m.className="hsLoadingCon",k.appendChild(m),m.style.width=h+"px",m.style.height=g+"px",m.style.top=f+"px",m.style.left=e+"px",l=el("img"),m.appendChild(l),l.onload=function(){l.style.height=g+"px";m.style.visibility=
"visible"},l.src="../web-static/images/"+c.loadImgCol[c.loadImgKey]):(l.style.height=g+"px",m.style.height=g+"px",m.style.width=h+"px",m.style.top=f+"px",m.style.left=e+"px",m.style.visibility="visible")):c.handleDelayHd=window.setTimeout(function(){c.subBtnId="";d.style.visibility="visible";void 0!=m&&(m.style.visibility="hidden");"function"==typeof b&&b()},500))};this.hsSwitchState=function(a,b){var c=$("#"+a+" ~ span.hsSwitchState")[0];null!=c&&(1==b?(c.innerHTML=statusStr.opened,c.style.color=
"#86B157"):(c.innerHTML=statusStr.closed,c.style.color="#FB6E52"))}}
function Basic(){this.NET_STATE_INDEX=0;this.LINK_EPTMGT_INDEX=1;this.APPS_MGT_INDEX=2;this.ROUTE_SET_INDEX=3;this.contentPageLoad=function(){loadBasic()};this.gLoadAppDetail={appId:"",uri:""};this.gSetLoadAppDetail=function(a,b){this.gLoadAppDetail.appId=void 0==a?this.gLoadAppDetail.appId:a;this.gLoadAppDetail.uri=void 0==b?this.gLoadAppDetail.uri:b;""!==a&&""!==b&&this.setBasicSubMenuUrl("AppsInstalled.htm")};this.gBasicMenu={menuIndex:NET_STATE_INDEX,subMenuUrl:""};this.setBasicMenu=function(a,
b){this.gBasicMenu.menuIndex=void 0==a?this.gBasicMenu.menuIndex:a;this.gBasicMenu.subMenuUrl=void 0==b?this.gBasicMenu.subMenuUrl:b};this.setBasicSubMenuUrl=function(a){this.gBasicMenu.subMenuUrl=a};this.loadBasic=function(a,b,c){this.setBasicMenu(a,b);loadPage("Basic.htm","Con",c)}}
function ShowTips(){this.alertTimeHd;this.shAltObjOrId;this.showAlert=function(a,b,c,d,e,g){this.showCover(function(){var f=id("Error"),h=id("hsErr"),k,l=this;if(!0==isIESix)alert(a);else if(this.shAltObjOrId=b,k=$("div.hsTip input.subBtn")[0],null==h&&(h=document.createElement("div"),h.id="hsErr",h.className="hsTip",k=document.createElement("p"),k.className="detail",h.appendChild(k),k=document.createElement("input"),k.type="button",k.className="subBtn ok",k.value=e||btn.ok,h.appendChild(k),f.appendChild(h)),
getChildNode(h,"p").innerHTML=a,c&&(h.style.marginLeft="280px"),k.onclick=function(){"function"==typeof d&&d();l.closeAlert(!0)},f.style.visibility="visible",f.style.display="block",f.style.top="90px",!1==OS.portable?setStyle(f,{position:"fixed"}):setStyle(f,{position:"absolute"}),!1==OS.iPhone&&!1==OS.iPad&&k.focus(),"undefined"==typeof g||g)this.alertTimeHd=$.setTimeout(function(){l.closeAlert()},3E4)})};this.closeAlert=function(a){this.hideCover(function(){var b=id("Error"),c=this.shAltObjOrId;
if(null!=b)if(b.style.top="-9999px",b.style.visibility="hidden",clearTimeout(this.alertTimeHd),this.alertTimeHd=null,!0!=a||void 0==c||"object"!=typeof c&&0==c.length)this.shAltObjOrId="";else try{"object"!=typeof c&&(c=id(c)),c.focus(),c.select()}catch(d){}})};this.shAltBaObjOrId;this.showAlertB=function(a,b){showCover(function(c){var d;this.shAltBaObjOrId=b;d=document.createElement("div");d.className="baConfirmCon";document.body.appendChild(d);c=document.createElement("div");c.className="baConfirm";
d.appendChild(c);d=document.createElement("i");d.className="baConfirmLogo";c.appendChild(d);d=document.createElement("span");d.className="baConfirmQuestion";d.innerHTML=a;c.appendChild(d);d=document.createElement("input");d.className="subBtn ok";d.value=btn.confirm;d.type="button";d.onclick=function(){closeAlertB(!0)};c.appendChild(d)})};this.closeAlertB=function(a){var b=this.shAltBaObjOrId;hideCover(function(){var c=$("div.baConfirmCon")[0];document.body.removeChild(c);if(!0==a&&void 0!=b&&("object"==
typeof b||0!=b.length))try{"object"!=typeof b&&(b=id(b)),b.focus(),b.select()}catch(d){}})};this.showAlertC=function(a,b,c,d){this.showCover(function(){var e=id("Error"),g=id("hsErr"),f,h=this;!0==isIESix?alert(a):(this.shAltObjOrId=b,f=$("div.hsTip input.subBtn")[0],null==g&&(g=document.createElement("div"),g.id="hsErr",g.className="hsTip",f=document.createElement("i"),f.className="alertImg",g.appendChild(f),f=document.createElement("p"),f.className="detailImg",g.appendChild(f),f=document.createElement("input"),
f.type="button",f.className="subBtn ok",f.value=btn.ok,g.appendChild(f),e.appendChild(g)),getChildNode(g,"p").innerHTML=a,c&&(g.style.marginLeft="280px"),f.onclick=function(){d&&d();h.closeAlertC(!0)},e.style.visibility="visible",e.style.display="block",e.style.top="90px",!1==OS.portable?setStyle(e,{position:"fixed"}):setStyle(e,{position:"absolute"}),!1==OS.iPhone&&!1==OS.iPad&&f.focus(),this.alertTimeHd=$.setTimeout(function(){h.closeAlertC()},5E3))})};this.closeAlertC=function(a){this.hideCover(function(){var b=
id("Error"),c=this.shAltObjOrId;if(null!=b)if(b.style.top="-9999px",b.style.visibility="hidden",clearTimeout(this.alertTimeHd),this.alertTimeHd=null,!0!=a||void 0==c||"object"!=typeof c&&0==c.length)this.shAltObjOrId="";else try{"object"!=typeof c&&(c=id(c)),c.focus(),c.select()}catch(d){}})};this.showAlertD=function(a,b){this.showCover(function(){var c=id("Error"),d=id("hsErr"),e,g=this;!0==isIESix?alert(a):(e=$("div.hsTip input.subBtn")[0],null==d&&(d=document.createElement("div"),d.id="hsErr",
d.className="hsTip",e=document.createElement("p"),e.className="detail",d.appendChild(e),e=document.createElement("input"),e.type="button",e.className="subBtn ok",e.value=btn.ok,d.appendChild(e),c.appendChild(d)),getChildNode(d,"p").innerHTML=a,e.onclick=function(){"function"==typeof b&&b();g.closeAlertD(!0)},c.style.visibility="visible",c.style.display="block",c.style.top="90px",!1==OS.portable?setStyle(c,{position:"fixed"}):setStyle(c,{position:"absolute"}),!1==OS.iPhone&&!1==OS.iPad&&e.focus())})};
this.closeAlertD=function(a){this.hideCover(function(){var a=id("Error");null!=a&&(a.style.top="-9999px",a.style.visibility="hidden")})};this.showConfirm=function(a,b,c,d){this.showCover(function(){var e=id("Confirm"),g=id("hsConf"),f,h=this,k=void 0!=c?c:btn.ok,l=void 0!=d?d:btn.cancel;!0==isIESix?(e=confirm(a),this.closeConfirm(),b(e)):(null==g&&(g=document.createElement("div"),g.id="hsConf",g.className="hsTip",f=document.createElement("p"),f.className="detail",g.appendChild(f),f=document.createElement("input"),
f.type="button",f.className="subBtn ok",f.value=k,g.appendChild(f),f=document.createElement("input"),f.type="button",f.className="subBtn cancel",f.value=l,g.appendChild(f),e.appendChild(g)),f=$("#hsConf input"),f[0].value=k,f[0].onclick=function(){h.closeConfirm();b(!0)},f[1].value=l,f[1].onclick=function(){h.closeConfirm();b(!1)},getChildNode(g,"p").innerHTML=a,e.style.visibility="visible",e.style.display="block",e.style.top="90px",!1==OS.portable?setStyle(e,{position:"fixed"}):setStyle(e,{position:"absolute"}))})};
this.closeConfirm=function(){this.hideCover(function(){var a=id("Confirm");null!=a&&(a.style.top="-9999px",a.style.visibility="hidden")})};this.showConfirmB=function(a,b){this.showCover(function(){var c=id("Confirm"),d=id("hsConf"),e,g=this;!0==isIESix?(c=confirm(a),this.closeConfirm(),b(c)):(null==d&&(d=document.createElement("div"),d.id="hsConf",d.className="hsTip",e=document.createElement("i"),e.className="confirmImg",d.appendChild(e),e=document.createElement("p"),e.className="detailImg",d.appendChild(e),
e=document.createElement("input"),e.type="button",e.className="subBtn ok",e.value=btn.cloudRetry,d.appendChild(e),e=document.createElement("input"),e.type="button",e.className="subBtn cancel",e.value=btn.cloudBack,d.appendChild(e),c.appendChild(d)),e=$("#hsConf input"),e[0].onclick=function(){g.closeConfirm();b(!0)},e[1].onclick=function(){g.closeConfirm();b(!1)},getChildNode(d,"p").innerHTML=a,c.style.visibility="visible",c.style.display="block",c.style.top="90px",!1==OS.portable?setStyle(c,{position:"fixed"}):
setStyle(c,{position:"absolute"}))})};this.closeConfirmB=function(){this.hideCover(function(){var a=id("Confirm");null!=a&&(a.style.top="-9999px",a.style.visibility="hidden")})};this.showConfirmC=function(a,b,c,d){this.showCoverC(function(){var e=id("ConfirmC"),g=id("hsConfC"),f,h,k=this;h=void 0!=c?c:btn.ok;var l=void 0!=d?d:btn.cancel;!0==isIESix?(e=confirm(a),this.closeConfirm(),b(e)):(null==e&&(e=document.createElement("div"),e.id="ConfirmC",document.body.appendChild(e)),null==g&&(g=document.createElement("div"),
g.id="hsConfC",g.className="hsTip hsTipCh",f=document.createElement("p"),f.className="cancel",g.appendChild(f),f=document.createElement("p"),f.className="detail detailCh",g.appendChild(f),f=document.createElement("input"),f.type="button",f.className="subBtn ok",f.value=h,g.appendChild(f),f=document.createElement("input"),f.type="button",f.className="subBtn ok",f.value=l,g.appendChild(f),e.appendChild(g)),g=$("#hsConfC input"),g[0].value=h,g[0].onclick=function(){k.closeConfirmC();b(!0)},g[1].value=
l,g[1].onclick=function(){k.closeConfirmC();b(!1)},h=$("#hsConfC p"),h[1].innerHTML=a,e.style.visibility="visible",e.style.display="block",e.style.top="90px",!1==OS.portable?setStyle(e,{position:"fixed"}):setStyle(e,{position:"absolute"}))})};this.closeConfirmC=function(){this.hideCoverC(function(){var a=id("ConfirmC");null!=a&&(a.style.top="-9999px",a.style.visibility="hidden")})};this.showConfirmChoice=function(a,b,c,d){this.showCoverC(function(){var e=id("ConfirmCh"),g=id("hsConfCh"),f,h,k,l=this;
k=void 0!=c?c:btn.ok;var m=void 0!=d?d:btn.cancel;!0==isIESix?(e=confirm(a),this.closeConfirm(),b(e)):(null==e&&(e=document.createElement("div"),e.id="ConfirmCh",document.body.appendChild(e)),null==g&&(g=document.createElement("div"),g.id="hsConfCh",g.className="hsTip hsTipCh",f=document.createElement("p"),f.className="cancel",h=document.createElement("i"),h.className="cancelImg",f.appendChild(h),g.appendChild(f),f=document.createElement("p"),f.className="detail detailCh",g.appendChild(f),f=document.createElement("input"),
f.type="button",f.className="subBtn ok",f.value=k,g.appendChild(f),f=document.createElement("input"),f.type="button",f.className="subBtn ok",f.value=m,g.appendChild(f),e.appendChild(g)),g=$("#hsConfCh i"),g[0].onclick=function(){l.closeConfirmChoice();b()},g=$("#hsConfCh input"),g[0].value=k,g[0].onclick=function(){l.closeConfirmChoice();b(!0)},g[1].value=m,g[1].onclick=function(){l.closeConfirmChoice();b(!1)},k=$("#hsConfCh p"),k[1].innerHTML=a,e.style.visibility="visible",e.style.display="block",
e.style.top="90px",!1==OS.portable?setStyle(e,{position:"fixed"}):setStyle(e,{position:"absolute"}))})};this.closeConfirmChoice=function(){this.hideCoverC(function(){var a=id("ConfirmCh");null!=a&&(a.style.top="-9999px",a.style.visibility="hidden")})};this.showNote=function(a,b){var c=id(a);void 0!=c&&(void 0!=b&&($("#"+a+" div.noteCon p")[0].innerHTML=b),c.style.visibility="visible")};this.showNoteB=function(a,b,c){var d=id(a),e;void 0!=d&&(e=$("#"+a+" i.tip")[0],a=$("#"+a+" span")[0],void 0!=b&&
(a.innerHTML=b),a.className=void 0!=c?c:"note",e.style.visibility="visible",d.style.visibility="visible")};this.closeNote=function(a){var b=id(a);void 0!=b&&(b.style.visibility="hidden");try{$("#"+a+" i.tip").css("visibility","hidden")}catch(c){}};this.showLoading=function(a,b,c,d){closeLoading();showCover(function(e){var g,f,h,k,l;e=$("#"+e.id);f=0.7;void 0!=c&&(g=c.loadConClass,h=c.loadClass,k=c.coverLoadingClass,l=c.detailClass,f=c.coverOpacity||0);e.css("opacity",f);f=el("div");f.className="LoadConCover";
document.body.appendChild(f);e=el("div");e.className=g||"coverLoadCon";f.appendChild(e);g=el("div");g.className=h||"coverLoad";e.appendChild(g);void 0==k?(h=el("i"),h.className="coverLoading"):(h=el("i"),h.className=k);g.appendChild(h);k=el("p");k.className=l||"coverLoadNote";k.innerHTML=void 0==a?label.checkingWait:a;g.appendChild(k);d=void 0==d?!0:d;!0==d&&(l=el("input"),l.type="button",l.className="coverLoadClose cancelBtn",l.value=btn.cancel,l.onclick=function(){closeLoading(b)},g.appendChild(l))})};
this.closeLoading=function(a){var b=$("div.LoadConCover")[0];null!=b&&($("#"+this.CoverId).css("opacity",""),document.body.removeChild(b),hideCover(a))};this.showPhWzdAlert=function(a,b){this.showCover(function(){var c,d,e,g=this;c=id("phWzdAlertCon");null==c?(c=document.createElement("div"),c.className="phWzdAlertCon",c.id="phWzdAlertCon",document.body.appendChild(c),d=document.createElement("img"),d.src="../web-static/images/redWarn.png",c.appendChild(d),d=document.createElement("p"),c.appendChild(d),
e=document.createElement("label"),c.appendChild(e),e.innerHTML=btn.confirm):(d=$("#phWzdAlertCon p")[0],e=$("#phWzdAlertCon label")[0]);c.style.top="150px";c.style.visibility="visible";d.innerHTML=a;e.onclick=function(){"function"==typeof b&&b();g.closePhWzdAlert()}})};this.closePhWzdAlert=function(){this.hideCover(function(){var a=id("phWzdAlertCon");null!=a&&(a.style.top="-9999px")})};this.showPhConfirm=function(a,b,c,d){this.showCover(function(){var e,g,f,h,k=this,l=void 0!=c?c:btn.ok,m=void 0!=
d?d:btn.cancel;e=id("phConfirmCon");null==e?(e=document.createElement("div"),e.className="phWzdAlertCon",e.id="phConfirmCon",document.body.appendChild(e),g=document.createElement("img"),g.src="../web-static/images/redWarn.png",e.appendChild(g),g=document.createElement("p"),e.appendChild(g),h=document.createElement("label"),h.className="btnN",e.appendChild(h),f=document.createElement("label"),f.className="btnY",e.appendChild(f)):(g=$("#phConfirmCon p")[0],h=$("#phConfirmCon label")[0],f=$("#phConfirmCon label")[1]);
g.innerHTML=a;h.innerHTML=m;f.innerHTML=l;e.style.top="120px";e.style.visibility="visible";h.onclick=function(){k.closePhConfirm();"function"==typeof b&&b(!1)};f.onclick=function(){k.closePhConfirm();"function"==typeof b&&b(!0)}})};this.closePhConfirm=function(){this.hideCover(function(){var a=id("phConfirmCon");null!=a&&(a.style.top="-9999px",a.style.visibility="hidden")})};this.showDFSPopUpWindow=function(a,b){function c(a){e=setInterval(function(){d--;id("DFScountdown").innerHTML=d+"s";if(0>=d){clearInterval(e);
var b=$("div.LoadConCover")[0];$("#Cover").css("opacity","");document.body.removeChild(b);hideCover();"undefined"!=typeof a&&a()}},1E3)}var d=b,e;showCover(function(){var b,e;$("#DFSWindow").css("opacity",0.7);e=el("div");e.className="LoadConCover";document.body.appendChild(e);b=el("div");b.className="coverLoadCon";e.appendChild(b);e=el("div");e.className="coverLoad coverLoadDFS";b.appendChild(e);b=el("img");b.className="radarImg";b.src="../web-static/images/radar.gif";e.appendChild(b);b=el("p");
b.className="coverLoadNote";b.innerHTML="遵照国家法律法规，路由器正在做退避雷达信号探测，<br />Wi-Fi信号要 <span id='DFScountdown'>"+d+"s</span> 后才能上线，请稍候...";e.appendChild(b);c(a)})}}
function Select(){var a={enable:!1,outerScrollContainerId:"",bottomVal:0};this.selectInitExtern=function(a,c,d,e,g,f){selectInit(a,c,d,e,g,{className:"appSelOptsUl",colorN:"#FFFFFF",colorC:"#95AE31",fontColorN:"#3C3E43",fontColorC:"#FFFFFF",valueColor:"#FFFFFF",valueDisColor:"#95AE31",scrollBg:"#95AE31",scrollZIndex:"1009"},f)};this.selectInitEptMgt=function(a,c,d,e,g){selectInit(a,c,d,e,g,{className:"eptMgtSelOptsUl",colorN:"#FFFFFF",colorC:"#F17E50",fontColorN:"#3C3E43",fontColorC:"#FFFFFF",valueColor:"#FFFFFF",
valueDisColor:"#F17E50",scrollBg:"#F17E50",scrollZIndex:"1009"})};this.selectInit=function(b,c,d,e,g,f,h){function k(a){for(var b,c,d=a.childNodes,e=0,g=d.length;e<g;e++)c=d[e],b=c.childNodes[0].style.visibility,c.style.backgroundColor="visible"==b?r:y,c.style.color="visible"==b?v:w;a.style.visibility="hidden";a.style.top="-9999px";a.parentNode.style.position="static"}function l(a){var c=id(b),d=a.parentNode,g=d.childNodes,f=$("#"+b+" span.value")[0];if(3!=a.childNodes[0].nodeType){c.value=a.valueStr;
f.value=a.valueStr;for(var h=0,k=g.length;h<k;h++)g[h].childNodes[0].style.visibility="hidden",g[h].style.backgroundColor=y,g[h].style.color=w;"visible"!=a.childNodes[0].style.visibility&&"undefined"!=typeof e&&e(a.valueStr,c);a.childNodes[0].style.visibility="visible";a.style.backgroundColor=r;a.style.color=v;c=getChildNode(a,"span");c.className="selCross";f.innerHTML=htmlEscape(a.childNodes[1].nodeValue);d.style.visibility="hidden";d.style.top="-9999px";d.parentNode.style.position="static"}}function m(a){for(var b=
0,c=a.length;b<c;b++)q=a[b],A=htmlEscape(getStrInMax(q.str.toString(),G)),A=void 0==q.staCount?A:A+" ("+q.staCount+")",z="hidden",p=document.createElement("li"),void 0==q.value&&b==C||C==q.value?(z="visible",x.innerHTML=A,x.value=C,t.value=C,p.style.backgroundColor=r,p.style.color=v,p.innerHTML="<span class='selCross' style='visibility:"+z+"'></span>"+A):(p.style.color=w,p.innerHTML="<span class='selCrossOut' style='visibility:"+z+"'></span>"+A),p.title=void 0==q.title?q.str:q.title,p.valueStr=void 0!=
q.value?q.value:b,p.className="option",p.onclick=function(a){a=a||window.event;l(this);stopProp(a)},p.onmousemove=function(a){a=a||window.event;a=a.srcElement||a.target;var b,c;if("span"!=a.tagName.toLowerCase()){b=a.parentNode.childNodes;for(var d=0,e=b.length;d<e;d++)c=b[d],c.style.backgroundColor=y,c.style.color=w,c=getChildNode(c,"span"),c.className="selCrossOut";c=getChildNode(a,"span");c.className="selCross";a.style.backgroundColor=r;a.style.color=v}},s.appendChild(p)}function n(c){function d(a){a&&
(g.each(function(){"visible"==this.style.visibility&&k(this);return!0}),e.css("visibility","visible").css("top","-1px"),e[0].parentNode.style.position="relative",stopProp(c))}var e=$("#"+u+b),g=$("ul."+u);"undefined"!=typeof h?h(d):d(!0);if(a.enable){var f=$("#"+a.outerScrollContainerId);0<f.length&&$("#"+b).offset().top-f.offset().top>f.height()*a.bottomVal&&f.animate({scrollTop:f.scrollTop()+f.height()/2},500)}}var p,q,x,z="hidden",s,t=id(b),u="selOptsUl",y="#FFFFFF",r="#2BA2D8",w="#3C3E43",v="#FFFFFF",
H="#FFFFFF",I="#B2B2B2",B,G,J,A,C=d;d="#34A9DA";var D=1001,E=3,F=3;void 0!=f&&(u=f.className,y=f.colorN,r=f.colorC,w=f.fontColorN,v=f.fontColorC,H=f.valueColor,I=f.valueDisColor,d=void 0==f.scrollBg?d:f.scrollBg,D=void 0==f.scrollZIndex?D:f.scrollZIndex,E=void 0==f.scrollMLeft?E:f.scrollMLeft,F=void 0==f.scrollMTop?F:f.scrollMTop);f=t.parentNode;B=$("#"+b+" span.value");x=B[0];x.value=0;J=parseInt(B.css("width"));B=(0.61*parseInt(B.css("fontSize"))).toFixed(1);G=void 0==g?parseInt(J/B):g;t.value=
0;null==id(u+b)?(s=document.createElement("ul"),s.className=u,s.id=u+b):(s=id(u+b),s.innerHTML="");f.appendChild(s);attachEvnt(document.body,"click",function(){var a=$("#"+u+b)[0];"undefined"!=typeof a&&k(a)});m(c);t.onclick=n;t.disable=function(a){t.onclick=!0==a?null:n;x.style.color=!0==a?I:H};t.changeSel=function(a){$("#"+u+b+" li");$("#"+u+b+" li").each(function(){if(this.valueStr==a)return l(this),!1})};t.resetOptions=function(a,b){s.innerHTML="";C=b||0;m(a)};c=new NiceScroll(s.id);c.scrollTipOpacity(1);
c.scrollTipSet({background:d});c.scrollBarSet({zIndex:D,mLeft:E,mTop:F});c.init()};this.setSelectAutoMiddleOption=function(b){a=b}}
function Help(){var a=this;this.help="Help";this.helpDetail="helpDetail";this.helpContent="helpContent";this.helpURL="Help.htm";this.setHelpURL=function(a){this.helpURL=a};this.helpInit=function(){var a=id(this.help),c,d,e=this;0==a.innerHTML.length&&(c=document.createElement("p"),c.className="helpTop",c.onmousedown=this.draggableBind(this.help),a.appendChild(c),d=document.createElement("span"),d.className="helpDes",d.innerHTML=label.help,c.appendChild(d),d=document.createElement("i"),d.onclick=function(){e.helpClose()},
d.className="helpClose",c.appendChild(d),c=document.createElement("div"),c.id="helpDetail",a.appendChild(c),c=document.createElement("div"),c.style.display="none",c.id=this.helpContent,document.body.appendChild(c));loadPage(this.helpURL,this.helpContent)};this.touchMoveHd=function(b){b=b||window.event;var c=b.touches[0].clientX,d=b.touches[0].clientY,e=id(a.help),c=c-a.mousePos.x,d=d-a.mousePos.y,g=document.body.clientWidth-e.offsetWidth,f=document.documentElement.scrollHeight-e.offsetHeight,c=0<
c?c:0,d=0<d?d:0;e.style.left=(c>g?g:c)+"px";e.style.top=(d>f?f:d)+"px";eventPreventDefault(b);clearSelection(b)};this.touchEndHd=function(a){detachEvnt(document,"touchmove",touchMoveHd);detachEvnt(document,"touchend",touchEndHd)};this.helpBind=function(a,c,d){a&&(a.onclick=function(a){a=a||window.event;helpShow(c,a.target||a.srcElement,d)})};this.helpClose=function(){var a=id(this.help),c=id(this.helpDetail);null!=c&&null!=a&&(setStyle(a,{visibility:"hidden",top:"-9999px"}),c.innerHTML="")};this.helpVisible=
function(a){var c=id(this.help),d=$(a).offset(),e=$("#basicContent").offset();setStyle(c,{visibility:"visible",top:e.top+"px",left:d.left-c.offsetWidth+a.offsetWidth+"px"})};this.helpDetailAppend=function(a){var c,d;c=id(this.helpDetail);d=a.split(" ");for(var e=0;e<d.length;e++){a=id(d[e]);if(null==a)break;c.innerHTML+=a.outerHTML}};this.helpShow=function(a,c,d){var e=$("#"+this.help+" p.helpTop");this.helpClose();e.attr("class",void 0==d?"helpTop":"helpTop "+d);this.helpVisible(c);helpDetailAppend(a)};
this.msMove=function(a,c,d){var e=c.x-d.x;c=c.y-d.y;d=document.body.clientWidth-a.offsetWidth;var g=document.documentElement.scrollHeight-a.offsetHeight,e=0<e?e:0;c=0<c?c:0;a.style.left=(e>d?d:e)+"px";a.style.top=(c>g?g:c)+"px"};this.draggableBind=function(a){var c=id(a);return function(a){a=a?a:window.event;a=getMousePos(a);var b={x:a.x-c.offsetLeft,y:a.y-c.offsetTop};document.onmousemove=function(a){a=a?a:window.event;a=getMousePos(a);clearSelection();msMove(c,a,b)};document.onmouseup=function(){clearSelection();
document.onmousemove=null;document.onmouseup=null}}};this.basicAppUpgradeInfoShow=function(a,c,d){var e=id("basicAppUpgradeInfo"),g,f;a=$(a);var h=a.offset();null==e&&(e=document.createElement("div"),e.id="basicAppUpgradeInfo",document.body.appendChild(e),g=document.createElement("p"),g.className="appsHelpTop",g.onmousedown=this.draggableBind(this.help),e.appendChild(g),f=document.createElement("span"),f.className="helpDes",f.innerHTML=label.updateNoteStr,g.appendChild(f),f=document.createElement("i"),
f.onclick=function(){e.style.display="none";e.style.top="-9999px"},f.className="helpClose",g.appendChild(f),g=document.createElement("div"),g.id="basicAppUpgradeInfoDetail",g.className="basicAppUpgradeInfoDetail",e.appendChild(g),g=new NiceScroll("basicAppUpgradeInfoDetail"),g.scrollTipOpacity(1),g.scrollTipSet({background:"#B0CB33"}),g.scrollBarSet({zIndex:"1004",mLeft:"10"}),g.init());e.style.top=h.top+a[0].offsetHeight+(d||0)+"px";e.style.left="515px";e.style.display="block";id("basicAppUpgradeInfoDetail").innerHTML=
"<pre>"+c+"</pre>"};this.basicAppUpgradeInfoClose=function(){var a=id("basicAppUpgradeInfo");null!=a&&(a.style.display="none",a.style.top="-9999px")}}
function LanDetect(){this.lanDetectSuccess=!1;this.LAN_DETECT_TIME=1E3;this.lanDetectTimeHd=null;this.lanDetectHandle=function(a){!1==$.result.timeout&&!1==this.lanDetectSuccess&&(this.lanDetectSuccess=!0,clearTimeout(this.lanDetectTimeHd),"undefined"!=typeof a&&a())};this.lanDetecting=function(a){this.lanDetectSuccess=!1;$.detect(function(){lanDetectHandle(a)});this.lanDetectTimeHd=$.setTimeout(function(){lanDetecting(a)},this.LAN_DETECT_TIME)}}
function ProgressBar(){this.progressBarHd=this.progressDeWidth=this.progressBar=null;this.initProgBar=function(){var a=id("ProgressBar"),b,c,d;null==a&&(a=document.createElement("div"),a.id="ProgressBar",document.body.appendChild(a),b=document.createElement("div"),b.className="progressBarCon",a.appendChild(b),c=document.createElement("div"),c.className="progressBarPCon",b.appendChild(c),d=document.createElement("p"),d.className="progressBarPercent",c.appendChild(d),c=document.createElement("div"),
c.className="progressBarBg",b.appendChild(c),d=document.createElement("p"),d.className="progressBarDe",c.appendChild(d),d=document.createElement("p"),d.className="progressBarDes",b.appendChild(d));this.progressBar=a;this.progressDeWidth=0};this.progRunning=function(a,b,c){var d=$("div.progressBarBg"),e=$("p.progressBarDe"),g=$("p.progressBarPercent"),f=this.progressDeWidth+2,h=parseInt(d.css("width"))-f-parseInt(e.css("paddingRight")),k=b/100,l=0,m=this;e.css("width",f+"px");h=parseFloat(h/100);(function(){100<
l?void 0!=c&&c():(!0==a&&(g[0].innerHTML=l+"%"),e.css("width",f+h*l+"px"),l++,m.progressBarHd=$.setTimeout(arguments.callee,k))})()};this.showProgBar=function(a,b,c,d){this.showCover(function(){this.initProgBar();setStyle(this.progressBar,{display:"block",visibility:"visible",top:"0px"});void 0==b&&(b=statusStr.rebooting);d=void 0==d?!0:d;$("div.progressBarPCon").css("visibility",!0==d?"visible":"hidden");$("p.progressBarDes")[0].innerHTML=b;this.progRunning(d,a,c)})};this.initProgBarApps=function(a){var b,
c;null!=this.progressBar&&this.progressBar.parentNode.removeChild(this.progressBar);b=document.createElement("div");b.className="ProgressBarApps";a.appendChild(b);c=document.createElement("p");c.className="progressBarPercent";b.appendChild(c);a=document.createElement("div");a.className="progressBarBg";b.appendChild(a);c=document.createElement("p");c.className="progressBarDe";a.appendChild(c);this.progressBar=b;this.progressDeWidth=parseInt($(c).css("width"))};this.showProgBarApps=function(a,b,c){var d=
this;showCover(function(e){$(e).css("opacity","0");d.initProgBarApps(a);setStyle(d.progressBar,{display:"block",visibility:"visible",top:"0px"});d.progRunningP(!0,b,c,1E3)})};this.progRunningP=function(a,b,c,d){function e(b){n=parseInt(b.count);p=b[ERR_CODE];ERR_PERCENT==n?(q.closeProgBar(),"function"==typeof c&&c(!1,p)):(!0==a&&!1==isNaN(n)&&(100<=n&&(n=100),f[0].innerHTML=n+"%"),k.css("width",l+m*n+"px"),100<=n&&"function"==typeof c&&c(!0))}var g=this.progressBar,f=$(g).find("p.progressBarPercent"),
h=$(g).find("div.progressBarBg"),k=$(g).find("p.progressBarDe"),l=this.progressDeWidth+2,m=parseInt(h.css("width"))-l-parseInt(k.css("paddingRight")),n=0,p=ENONE,q=this;k.css("width",l+"px");m=parseFloat(m/100);(function(){"function"==typeof b&&b(e);q.progressBarHd=$.setTimeout(arguments.callee,d)})()};this.showProgBarP=function(a,b,c,d){this.showCover(function(){this.initProgBar();setStyle(this.progressBar,{display:"block",visibility:"visible",top:"0px"});void 0==a&&(a=statusStr.rebooting);c=void 0==
c?!0:c;$("div.progressBarPCon").css("visibility",!0==c?"visible":"hidden");$("p.progressBarDes")[0].innerHTML=a;this.progRunningP(c,b,d,100)})};this.closeProgBar=function(){"function"==typeof hideCover&&hideCover();setStyle(this.progressBar,{display:"none",visibility:"hidden",top:"-9999px"});clearTimeout(this.progressBarHd)}}
function BlockGrid(){this._ops={id:"",data:null,dataInfo:[]};"function"!=typeof BlockGrid.prototype.blockInit&&(BlockGrid.prototype.blockInit=function(a){this._optionsInit(a);this.create()},BlockGrid.prototype._optionsInit=function(a){var b,c;for(c in a)if(b=a[c],"undefined"!=typeof this._ops[c])if("object"!=typeof b||b instanceof Array||null==this._ops[c])this._ops[c]=b;else for(var d in b)this._ops[c][d]=b[d]},BlockGrid.prototype.create=function(){var a,b;this.con=id(this._ops.id);emptyNodes(this.con);
for(var c=0;c<this._ops.dataInfo.length;c++){var d=this._ops.dataInfo[c],e=this._ops.data[c];a=document.createElement("li");a.onclick=function(){var a=$(this).find("i")[0],c=a.style.visibility;a.style.visibility="visible"==c?"hidden":"visible"};a.innerHTML=d.str;b=document.createElement("i");a.appendChild(b);e==d.value&&(b.style.visibility="visible");this.con.appendChild(a)}},BlockGrid.prototype.getData=function(){for(var a=$("#"+this._ops.id).find("i"),b=[],c,d=0;d<a.length;d++)c=this._ops.dataInfo[d],
c="visible"==a[d].style.visibility?c.value:c.unValue,b.push(c);return b})}
function TimeControlSet(){this.ENABLED="1";this.DISABLED="0";this.ACTION_ADD=0;this.ACTION_EDIT=1;this.gTimeLimitItem=this.gTimeLimitKeyName=this.blockGrid=null;this.gTimeLimitAction=this.ACTION_ADD;this.netCtrlListCreate=function(a,b,c,d,e,g){var f=id("netControlList"),h,k,l,m=document,n,p,q,x=0,z=uciHostsInfo.optName.name,s=uciHostsInfo.optName.startTime,t=uciHostsInfo.optName.endTime,u=[label.Mon,label.Tue,label.Wen,label.Thu,label.Fri,label.Sta,label.Sun];emptyNodes(f);h=m.createElement("ul");
f.appendChild(h);e=void 0==e?!1:e;for(var y in a){var r="";x++;for(var w in a[y])q=w,n=a[y][w];k=m.createElement("li");$(k).hover(function(){$(this).find("i").css("visibility","visible")},function(){$(this).find("i").css("visibility","hidden")});h.appendChild(k);l=m.createElement("i");l.onclick=function(a,c){return function(){b(a,c)}}(q,a);k.appendChild(l);k.onclick=!0==e?function(a,b,f){return function(h){h=h||window.event;if(b!=(h.target||h.srcElement)){h=a[z];var k=a[s],l=a[t];gTimeLimitAction=
ACTION_EDIT;gTimeLimitItem=a;gTimeLimitKeyName=f;p=objToWeekList(a);setNetControlPanel(h,k,l,p,c,d,e,g);netControlPanelDis(!0);beEdit=!0}}}(n,l,q):null;l=m.createElement("pre");l.innerHTML=htmlEscape(getStrInMax(n[z],16));k.appendChild(l);l=m.createElement("span");l.innerHTML=!0==e?n[s]+label.wlanOn+" / "+n[t]+label.wlanOff:label.limitTime+label.colon+n[s]+" - "+n[t];k.appendChild(l);l=m.createElement("span");p=objToWeekList(n);for(var v in p)p[v]==ENABLED&&(r+=u[v]+label.sep);0<r.length&&(r=r.substring(0,
r.length-1));l.innerHTML=label.repeat+label.colon+r;k.appendChild(l)}f.num=x};this.objToWeekList=function(a){var b=[],c=[uciHostsInfo.optName.mon,uciHostsInfo.optName.tue,uciHostsInfo.optName.wed,uciHostsInfo.optName.thu,uciHostsInfo.optName.fri,uciHostsInfo.optName.sat,uciHostsInfo.optName.sun],d;for(d in c)a[c[d]]==ENABLED?b.push(ENABLED):b.push(DISABLED);return b};this.weekListToObj=function(a,b){var c=[uciHostsInfo.optName.mon,uciHostsInfo.optName.tue,uciHostsInfo.optName.wed,uciHostsInfo.optName.thu,
uciHostsInfo.optName.fri,uciHostsInfo.optName.sat,uciHostsInfo.optName.sun],d;for(d in b)a[c[d]]=b[d]};this.initTimeOptions=function(a,b){for(var c,d=0;d<b;d++)c=d,10>d&&(c="0"+d),c={str:c,value:c},a.push(c)};this.setNetControlPanel=function(a,b,c,d,e,g,f,h){var k=b.split(":");b=c.split(":");c=k[0];var k=k[1],l=b[0];b=b[1];netControlPanelInit(e,g,f,h);id("netControlName").value=a;id("beginHour").changeSel(c);id("beginMinute").changeSel(k);id("endHour").changeSel(l);id("endMinute").changeSel(b);blockGrid=
new BlockGrid;blockGrid.blockInit({id:"netControlWeek",data:d,dataInfo:[{str:label.MonB,value:ENABLED,unValue:DISABLED},{str:label.TueB,value:ENABLED,unValue:DISABLED},{str:label.WenB,value:ENABLED,unValue:DISABLED},{str:label.ThuB,value:ENABLED,unValue:DISABLED},{str:label.FriB,value:ENABLED,unValue:DISABLED},{str:label.StaB,value:ENABLED,unValue:DISABLED},{str:label.SunB,value:ENABLED,unValue:DISABLED}]})};this.netControlPanelDis=function(a){var b=id("VigNetControlCon");!0===a?showCoverB(function(){b.style.visibility=
"visible";b.style.top="150px"}):hideCoverB(function(){b.style.visibility="hidden";b.style.top="-9999px"})};this.netControlPanelInit=function(a,b,c,d){var e=id("VigNetControlCon"),g=[],f=[],h;null==e?(e=document.createElement("div"),e.className="VigNetControlCon",e.id="VigNetControlCon",document.body.appendChild(e)):emptyNodes(e);!0==(void 0==c?!1:c)?(c=label.beginClock,h=label.endClock):(c=label.beginTime,h=label.endTime);e.innerHTML='<div class="vigNetControl" id="vigNetControl"><ul class="netControlLine"><label class="desc">'+
label.periodDesc+'</label><input type="text" class="text timeDesc" id="netControlName" maxlength="32"></ul><ul class="netControlLine"><label class="desc">'+c+'</label><li class="netControlText"><span class="netSelectSpan"><span id="beginHour" class="select netSelect"><span class="value hsTimeCon"></span><i class="arrow eptArrow"></i></span></span><label>'+label.hour+'</label></li><li class="netControlText"><span class="netSelectSpan"><span id="beginMinute" class="select netSelect"><span class="value hsTimeCon"></span><i class="arrow eptArrow"></i></span></span><label>'+
label.minute+'</label></li></ul><ul class="netControlLine"><label class="desc">'+h+'</label><li class="netControlText"><span class="netSelectSpan"><span id="endHour" class="select netSelect"><span class="value hsTimeCon"></span><i class="arrow eptArrow"></i></span></span><label>'+label.hour+'</label></li><li class="netControlText"><span class="netSelectSpan"><span id="endMinute" class="select netSelect"><span class="value hsTimeCon"></span><i class="arrow eptArrow"></i></span></span><label>'+label.minute+
'</label></li></ul><ul class="netControlLine"><label class="desc">'+label.repeat+'</label><ul class="netControlWeek" id="netControlWeek"></ul></ul><div class="netControlBtn"><input type="button" class="subBtn eptBtnA" value="'+btn.ok+'" id="btnSaveWeek"><input type="button" class="cancelBtn eptBtnA" value="'+btn.cancel+'" id="btnCancelWeek"></div></div>';initTimeOptions(g,24);initTimeOptions(f,60);id("btnSaveWeek").onclick=a;id("btnCancelWeek").onclick=function(){netControlPanelDis(!1);beEdit=!1;
"function"==typeof d&&d()};"function"!=typeof b&&(b=selectInitEptMgt);b("beginHour",g,"0");b("beginMinute",f,"0");b("endHour",g,"0");b("endMinute",f,"0")};this.netCtrlListCreate5G=function(a,b,c,d,e,g){var f=id("netControlList5G"),h,k,l,m=document,n,p,q,x=0,z=uciHostsInfo.optName.name,s=uciHostsInfo.optName.startTime,t=uciHostsInfo.optName.endTime,u=[label.Mon,label.Tue,label.Wen,label.Thu,label.Fri,label.Sta,label.Sun];emptyNodes(f);h=m.createElement("ul");f.appendChild(h);e=void 0==e?!1:e;for(var y in a){var r=
"";x++;for(var w in a[y])q=w,n=a[y][w];k=m.createElement("li");$(k).hover(function(){$(this).find("i").css("visibility","visible")},function(){$(this).find("i").css("visibility","hidden")});h.appendChild(k);l=m.createElement("i");l.onclick=function(a,c){return function(){b(a,c)}}(q,a);k.appendChild(l);k.onclick=!0==e?function(a,b,f){return function(h){h=h||window.event;if(b!=(h.target||h.srcElement)){h=a[z];var k=a[s],l=a[t];gTimeLimitAction5G=ACTION_EDIT;gTimeLimitItem5G=a;gTimeLimitKeyName5G=f;
p=objToWeekList(a);setNetControlPanel5G(h,k,l,p,c,d,e,g);netControlPanelDis5G(!0);beEdit=!0}}}(n,l,q):null;l=m.createElement("pre");l.innerHTML=htmlEscape(getStrInMax(n[z],16));k.appendChild(l);l=m.createElement("span");l.innerHTML=!0==e?n[s]+label.wlanOn+" / "+n[t]+label.wlanOff:label.limitTime+label.colon+n[s]+" - "+n[t];k.appendChild(l);l=m.createElement("span");p=objToWeekList(n);for(var v in p)p[v]==ENABLED&&(r+=u[v]+label.sep);0<r.length&&(r=r.substring(0,r.length-1));l.innerHTML=label.repeat+
label.colon+r;k.appendChild(l)}f.num=x};this.setNetControlPanel5G=function(a,b,c,d,e,g,f,h){var k=b.split(":");b=c.split(":");c=k[0];var k=k[1],l=b[0];b=b[1];netControlPanelInit5G(e,g,f,h);id("netControlName5G").value=a;id("beginHour5G").changeSel(c);id("beginMinute5G").changeSel(k);id("endHour5G").changeSel(l);id("endMinute5G").changeSel(b);blockGrid5G=new BlockGrid;blockGrid5G.blockInit({id:"netControlWeek5G",data:d,dataInfo:[{str:label.MonB,value:ENABLED,unValue:DISABLED},{str:label.TueB,value:ENABLED,
unValue:DISABLED},{str:label.WenB,value:ENABLED,unValue:DISABLED},{str:label.ThuB,value:ENABLED,unValue:DISABLED},{str:label.FriB,value:ENABLED,unValue:DISABLED},{str:label.StaB,value:ENABLED,unValue:DISABLED},{str:label.SunB,value:ENABLED,unValue:DISABLED}]})};this.netControlPanelDis5G=function(a){var b=id("VigNetControlCon5G");!0===a?showCoverB(function(){b.style.visibility="visible";b.style.top="150px"}):hideCoverB(function(){b.style.visibility="hidden";b.style.top="-9999px"})};this.netControlPanelInit5G=
function(a,b,c,d){var e=id("VigNetControlCon5G"),g=[],f=[],h;null==e?(e=document.createElement("div"),e.className="VigNetControlCon",e.id="VigNetControlCon5G",document.body.appendChild(e)):emptyNodes(e);!0==(void 0==c?!1:c)?(c=label.beginClock,h=label.endClock):(c=label.beginTime,h=label.endTime);e.innerHTML='<div class="vigNetControl" id="vigNetControl5G"><ul class="netControlLine"><label class="desc">'+label.periodDesc+'</label><input type="text" class="text timeDesc" id="netControlName5G" maxlength="32"></ul><ul class="netControlLine"><label class="desc">'+
c+'</label><li class="netControlText"><span class="netSelectSpan"><span id="beginHour5G" class="select netSelect"><span class="value hsTimeCon"></span><i class="arrow eptArrow"></i></span></span><label>'+label.hour+'</label></li><li class="netControlText"><span class="netSelectSpan"><span id="beginMinute5G" class="select netSelect"><span class="value hsTimeCon"></span><i class="arrow eptArrow"></i></span></span><label>'+label.minute+'</label></li></ul><ul class="netControlLine"><label class="desc">'+
h+'</label><li class="netControlText"><span class="netSelectSpan"><span id="endHour5G" class="select netSelect"><span class="value hsTimeCon"></span><i class="arrow eptArrow"></i></span></span><label>'+label.hour+'</label></li><li class="netControlText"><span class="netSelectSpan"><span id="endMinute5G" class="select netSelect"><span class="value hsTimeCon"></span><i class="arrow eptArrow"></i></span></span><label>'+label.minute+'</label></li></ul><ul class="netControlLine"><label class="desc">'+
label.repeat+'</label><ul class="netControlWeek" id="netControlWeek5G"></ul></ul><div class="netControlBtn"><input type="button" class="subBtn eptBtnA" value="'+btn.ok+'" id="btnSaveWeek5G"><input type="button" class="cancelBtn eptBtnA" value="'+btn.cancel+'" id="btnCancelWeek5G"></div></div>';initTimeOptions(g,24);initTimeOptions(f,60);id("btnSaveWeek5G").onclick=a;id("btnCancelWeek5G").onclick=function(){netControlPanelDis5G(!1);beEdit=!1;"function"==typeof d&&d()};"function"!=typeof b&&(b=selectInitEptMgt);
b("beginHour5G",g,"0");b("beginMinute5G",f,"0");b("endHour5G",g,"0");b("endMinute5G",f,"0")}}
function Slp(){this.ROLE_LOCAL=0;this.ROLE_REMOTE=1;this._gMedia=this._gController="";this._gRole=ROLE_LOCAL;this.setController=function(a){_gController=a};this.getController=function(){return _gController};this.setMedia=function(a){_gMedia=a};this.getMedia=function(){return _gMedia};this.setRole=function(a){_gRole=a};this.getRole=function(){return _gRole};this.initImagePath=function(a){for(var b in imagePath)imagePath[b]=a+"/"+imagePath[b]};this.cloneObj=function(a){var b={};if("object"!=typeof a)return a;
a.constructor==Array&&(b=[]);for(var c in a)b[c]=cloneObj(a[c]);return b};this.hideLeadingZeros=function(a){return a.replace(/0*(\d+)/g,"$1")};this.calcNextIndex=function(a,b){if(null==a||!(a instanceof Array))return-1;var c=[],d;for(d in a){var e=a[d][".name"];"undefined"!=typeof e&&"string"==typeof e&&(e=e.replace(/^.*_(\d+)$/g,"$1"),c[e]=!0)}e=c.length;if(!/\D/g.test(b)&&b>=e)return b;for(d=/\D/g.test(b)?1:b;d<=e;d++)if("undefined"==typeof c[d])return d;return e+1};this.formatTableData=function(a){var b=
[];if(null==a||!(a instanceof Array))return b;for(var c in a){var d=a[c],e;for(e in d)d[e][SEC_NAME]=e,b[c]=d[e]}return b}}
function CloudCommon(){this.cloudAccountEmailList=[{key:"gmail.com",value:"https://mail.google.com"},{key:"live.com",value:"http://mail.live.com"},{key:"live.cn",value:"http://mail.live.com"},{key:"hotmail.com",value:"http://mail.live.com"},{key:"outlook.com",value:"http://mail.live.com"},{key:"qq.com",value:"http://mail.qq.com"},{key:"126.com",value:"http://mail.126.com"},{key:"163.com",value:"http://mail.163.com"},{key:"yeah.net",value:"http://mail.yeah.net"},{key:"sina.com",value:"http://mail.sina.com.cn"},
{key:"sohu.com",value:"http://mail.sohu.com"},{key:"21cn.com",value:"http://mail.21cn.com"},{key:"sina.com.cn",value:"http://mail.sina.com.cn"},{key:"tom.com",value:"http://mail.tom.com"},{key:"sogou.com",value:"http://mail.sogou.com"},{key:"foxmail.com",value:"http://mail.foxmail.com"},{key:"188.com",value:"http://mail.188.com"},{key:"wo.cn",value:"http://mail.wo.cn"},{key:"189.cn",value:"http://mail.189.cn"},{key:"139.com",value:"http://mail.10086.cn"},{key:"eyou.com",value:"http://www.eyou.com"},
{key:"aliyun.com",value:"http://mail.aliyun.com"},{key:"263.net",value:"http://mail.263.net"},{key:"2980.com",value:"http://www.2980.com"}];this.emailLinkCheck=function(a){for(var b in cloudAccountEmailList){var c=cloudAccountEmailList[b];if(0<a.indexOf(c.key))return c.value}return null};this.gCloudColObj={cloudBackHd:null,cloudBackBRHd:null,account:""};this.cloudSetBackHd=function(a){gCloudColObj.cloudBackHd=a};this.cloudGoBack=function(){var a=gCloudColObj.cloudBackHd;"function"==typeof a&&a()};
this.cloudSetBackBRHd=function(a){gCloudColObj.cloudBackBRHd=a};this.cloudGoBackBR=function(a){var b=gCloudColObj.cloudBackBRHd;hideCloudPage();"function"==typeof b&&b(a)};this.gCloudAccountBR={bodyHeight:0,account:"",pwd:"",CAPTCHAR:"",accountType:"",success:!1,noteF:"",noteS:"",pwdLen:0,softVersion:"",bFWzd:!1};this.showCloudPage=function(a){var b=id(this.cloudPageId);null==b&&(b=el("div"),b.id=this.cloudPageId,document.body.appendChild(b));loadPage(a,"CloudAccountPage",function(a){ENONE==a[ERR_CODE]&&
cloudPageSetNodes(!0)},{bClearPageTickArray:!1})};this.hideCloudPage=function(){try{var a=id(this.cloudPageId);emptyNodes(a);a.style.height="0px";cloudPageSetNodes(!1)}catch(b){}};this.cloudPageSetNodes=function(a){var b="none",c="none",d,e=document.body.childNodes;!0==a?(c="block",b="none",gCloudAccountBR.bodyHeight=parseInt(document.body.offsetHeight)):(c="none",b="block");for(var g in e)d=e[g],void 0!=d.nodeName&&"DIV"==d.nodeName.toUpperCase()&&(d.id==this.cloudPageId?setStyle(d,{display:c}):
"Con"==d.id?!0==a?(d.style.visibility="hidden",d.style.position="absolute",d.style.top="-9999px"):(d.style.visibility="visible",d.style.position="static",d.style.top="0px"):d.id==this.loginId&&d.id==this.coverId||setStyle(d,{display:b}));id(this.loginId).style.display="none";id(this.coverId).style.display="none"};this.appendErrCode=function(a,b){return a+label.lBrackets+label.errCode+label.colon+parseInt(b)+label.rBrackets};this.cloudErrHandle=function(a){a=parseInt(a);switch(a){case EINVCLOUDERRORPARSEJSON:case EINVCLOUDERRORPARSEJSONNULL:case EINVCLOUDERRORPARSEJSONID:case EINVCLOUDCLIENTGENERIC:case EINVCLOUDDNSQUERYERR:case EINVCLOUDTCPCONTERR:case EINVCLOUDCLIENTWANIPCHANGE:case EINVCLOUDCLIENTDISCONNECTFIN:case EINVCLOUDCLIENTDISCONNECTRST:case EINVCLOUDCLIENTDISCONNECT:case EINVCLOUDCLIENTDISCONNECTSOCKETERRNUM:case EINVCLOUDCLIENTWANPHYPORTLINKDOWN:case EINVCLOUDCLIENTDOWNLOADPARSEDNSREQUEST:case EINVCLOUDCLIENTDOWNLOADESTABLISHTCP:case EINVCLOUDCLIENTDOWNLOADHTTPNOTOK:case EINVCLOUDCLIENTDOWNLOADTIMEOUT:showStr=
errStr.invNetworkErr;break;case EINVCLOUDERRORGENERIC:case EINVCLOUDERRORSERVERINTERNALERROR:case EINVCLOUDERRORPERMISSIONDENIED:case EINVCLOUDERRDENYPASSEDDEV:case EINVCLOUDCLIENTHEARTREQUESTTIMEOUT:case EINVCLOUDSTOPCONCT:case EINVCLOUDCLIENTHELLOCLOUD:case EINVCLOUDCLIENTPUSHPLUGININFO:case EINVCLOUDCLIENTGETFWLIST:case EINVCLOUDCLIENTGETINITFWLIST:showStr=errStr.invServerBusyRetry;break;case EINVCLOUDDOMAINERR:case EINVCLOUDSSLSIGNERR:case EINVCLOUDSSLTIMEERR:case EINVCLOUDSSLENCRYPTIONERR:showStr=
errStr.invConntServerFail;break;case EINVCLOUDDEVICEILLEGAL:showStr=errStr.invCloudDeviceIdErr;break;case EINVERRORPERMISSIONDENIED:showStr=errStr.invPermissionDeny;break;case EINVCLOUDERRORMETHODNOTFOUND:case EINVCLOUDERRORPARAMSNOTFOUND:case EINVCLOUDERRORPARAMSWRONGTYPE:case EINVCLOUDERRORPARAMSWRONGRANGE:case EINVCLOUDERRORINVALIDPARAMS:showStr=errStr.invRequestFail;break;case EINVCLOUDERRORBINDDEVICEERROR:showStr=errStr.invTPIDLgFail;break;case EINVCLOUDERRORUNBINDDEVICEERROR:showStr=errStr.invTPIDUnBindFail;
break;case EINVCLOUDERRORHWIDNOTFOUND:case EINVCLOUDERRORFWIDNOTSUPPORTDEVICE:showStr=label.cloudDeviceInfoExpt;break;case EINVCLOUDERRORDEVICEALIASFORMATERROR:showStr=errStr.invRouterNameFormat;break;case EINVCLOUDERRORACCOUNTUSERNAMEFORMATERROR:showStr=errStr.invCloudAccountFmtErr;break;case EINVCLOUDERRORACCOUNTACTIVEMAILSENDFAIL:case EINVCLOUDERRORRESETMAILSENDFAIL:showStr=errStr.invCAPTCHASendFail;break;case EINVCLOUDERRORTOKENEXPRIED:case EINVCLOUDERRORTOKENINCORRECT:showStr=errStr.invTPIDTimeout;
break;case EINVCLOUDERRORACCOUNTACTIVEFAIL:case EINVCLOUDERRORACCOUNTACTIVETIMEOUT:showStr=errStr.invAccountCheckFail;break;case EINVCLOUDERRORRESETPWDTIMEOUT:case EINVCLOUDERRORRESETPWDFAIL:showStr=errStr.invAccountRstPwdFail;break;default:return{result:!0}}showStr=appendErrCode(showStr,a);return{result:!1,tip:showStr}}}
function CloudAction(){this.cloudActionQueryStatusWaitHd=this.cloudActionQueryStatusHd=null;this.cloudActionQueryStoped=this.cloudActionStatusQuering=!1;this.CLOUD_STATUS_QUERY_TIMEOUT=1E3;this.CLOUD_STATUS_QUERY_TIMEOUT_WAIT=2E4;this.cloudCloseLoadingHandle=null;this._cloudExptStopHandle=function(){clearTimeout(cloudActionQueryStatusWaitHd);closeLoading();"function"==typeof cloudCloseLoadingHandle&&cloudCloseLoadingHandle();_setCloudCloseLoadingHandle(null)};this._cloudQueryErrHandle=function(a,
b){var c="";switch(parseInt(a)){case ENONE:return!0;default:c=errStr.invRequestFail}_cloudExptStopHandle();showAlert(c,b);return!1};this._cloudGetActnErrHandle=function(a,b){var c="";switch(parseInt(a)){case ENONE:return!0;case EINVSENDREQMSGFAILED:c=errStr.invSendReqMsgFailed;break;case ESYSBUSY:case EINVLASTOPTIONISNOTFINISHED:c=errStr.invLastOptionIsNotFinished;break;case ESYSTEM:c=errStr.invRequestFail;break;case ENOMEMORY:c=errStr.invMemoryOut;break;case EINVGETDATAFAILED:c=errStr.invGetDataFailed;
break;case EINVPARAMETER:c=errStr.invParameter;break;case EINVREQUESTTIMEOUT:c=appendErrCode(errStr.invRequestTimeout,a);break;case EINVDEVICEIDNOTEXIST:case EINVERRORDEVICEIDFORMATERROR:case EINVILLEGALDEVICE:c=appendErrCode(label.cloudDeviceInfoExpt,a);break;default:c=cloudErrHandle(a);if(!1==c.result){c=c.tip;break}if("function"==typeof b)return _cloudExptStopHandle(),b(a),!1;c=errStr.invRequestFail}_cloudExptStopHandle();showAlert(c);return!1};this.cloudAccountQueryStop=function(){cloudActionQueryStoped=
!0;cloudActionStatusQuering=!1;clearTimeout(cloudActionQueryStatusHd);clearTimeout(cloudActionQueryStatusWaitHd);_cloudExptStopHandle()};this._cloudStatusDataOrg=function(a){var b={},c=cloudClientStatus;b[c.fileName]={};b[c.fileName][KEY_NAME]=a;return b};this._setCloudCloseLoadingHandle=function(a){cloudCloseLoadingHandle=a};this._cloudAccountStatus=function(a,b,c){cloudActionStatusQuering=!0;$.query(_cloudStatusDataOrg(a),function(d){if(_cloudGetActnErrHandle(d[ERR_CODE])){var e=cloudClientStatus,
g=parseInt(d[e.fileName][a][e.optName.actionStatus]),e=e.optValue.queryStatus;switch(g){case e.idle:case e.max:_cloudGetActnErrHandle(EINVSENDREQMSGFAILED);break;case e.timeout:"function"==typeof c?c():_cloudGetActnErrHandle(EINVREQUESTTIMEOUT);break;case e.prepare:case e.trying:cloudActionQueryStatusHd=$.setTimeout(function(){_cloudAccountStatus(a,b,c)},CLOUD_STATUS_QUERY_TIMEOUT);return;case e.failed:case e.success:b(d);break;default:_cloudGetActnErrHandle(void 0)}closeLoading(cloudCloseLoadingHandle);
_setCloudCloseLoadingHandle(null);cloudActionStatusQuering=!1;clearTimeout(cloudActionQueryStatusWaitHd)}})};this._cloudActionQueryStatus=function(a,b,c,d,e){!0!=cloudActionQueryStoped&&(!0==cloudActionStatusQuering&&!1==c?_cloudGetActnErrHandle(EINVLASTOPTIONISNOTFINISHED):(cloudActionStatusQuering=!1,clearTimeout(cloudActionQueryStatusHd),clearTimeout(cloudActionQueryStatusWaitHd),cloudActionQueryStatusWaitHd=$.setTimeout(function(){cloudActionStatusQuering=!1;clearTimeout(cloudActionQueryStatusHd);
"function"==typeof d?d():_cloudGetActnErrHandle(EINVREQUESTTIMEOUT)},CLOUD_STATUS_QUERY_TIMEOUT_WAIT),_cloudAccountStatus(a,b,function(){clearTimeout(cloudActionQueryStatusWaitHd);"function"==typeof e?e():_cloudGetActnErrHandle(EINVREQUESTTIMEOUT)})))};this.cloudAccountState=function(a,b){var c={},d=uciCloudConfig;c[d.fileName]={};c[d.fileName][d.actionName.getAccountStat]={};c[d.fileName][d.actionName.getAccountStat][d.optName.username]=a;cloudActionQueryStoped=!1;$.action(c,function(a){if(!0!=cloudActionQueryStoped&&
!0==_cloudGetActnErrHandle(a[ERR_CODE],b)){var c=cloudClientStatus;_cloudActionQueryStatus(c.secName.getAccountStat,function(a){_cloudQueryErrHandle(a[c.fileName][c.secName.getAccountStat][c.optName.errCode])&&(a={},a[d.fileName]={},a[d.fileName][KEY_NAME]=d.secName.deviceStatus,$.action(a,function(a){!0==_cloudGetActnErrHandle(a[ERR_CODE],b)&&b(d.optValue.regestStatus==a[d.fileName][d.secName.deviceStatus])},!0))},!0)}},!0)};this.cloudAccountRstPwdCheckCAPTCHA=function(a,b,c){var d,e={},g=uciCloudConfig;
e[g.fileName]={};d=e[g.fileName][g.actionName.checkResetPwdVerifyCode]={};d[g.optName.username]=a;d[g.optName.verifyCode]=b;cloudActionQueryStoped=!1;$.action(e,function(a){if(!0!=cloudActionQueryStoped&&!0==_cloudGetActnErrHandle(a[ERR_CODE],c)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.checkResetPwdVerifyCode,function(a){c(a[b.fileName][b.secName.checkResetPwdVerifyCode][b.optName.errCode])},!0)}},!0)};this.cloudAccountRstPwdAC=function(a,b,c,d){var e,g={},f=uciCloudConfig;g[f.fileName]=
{};e=g[f.fileName][f.actionName.getResetPwdVerifyCode]={};e[f.optName.username]=a;e[f.optName.accountType]=b;cloudActionQueryStoped=!1;_setCloudCloseLoadingHandle(d);$.action(g,function(a){if(!0!=cloudActionQueryStoped&&!0==_cloudGetActnErrHandle(a[ERR_CODE],c)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.getResetPwdVerifyCode,function(a){c(a[b.fileName][b.secName.getResetPwdVerifyCode][b.optName.errCode])},!0)}},!0)};this.cloudAccountRstPwd=function(a,b,c,d,e,g){var f,h={},k=uciCloudConfig;
h[k.fileName]={};f=h[k.fileName][k.actionName.resetPassword]={};f[k.optName.username]=a;f[k.optName.verifyCode]=c;f[k.optName.password]=b;f[k.optName.accountType]=d;cloudActionQueryStoped=!1;$.action(h,function(a){if(!0!=cloudActionQueryStoped&&!0==_cloudGetActnErrHandle(a[ERR_CODE],e)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.resetPassword,function(a){e(a[b.fileName][b.secName.resetPassword][b.optName.errCode])},!0,g)}},!0)};this.cloudAccountBind=function(a,b,c,d){var e,g={},f=uciCloudConfig;
g[f.fileName]={};e=g[f.fileName][f.actionName.bind]={};e[f.optName.username]=a;e[f.optName.password]=b;cloudActionQueryStoped=!1;$.action(g,function(a){if(!0!=cloudActionQueryStoped&&!0==_cloudGetActnErrHandle(a[ERR_CODE],c)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.bind,function(a){c(a[b.fileName][b.secName.bind][b.optName.errCode])},!0,d)}},!0)};this.cloudAccountGetRegistAC=function(a,b,c,d){var e,g={},f=uciCloudConfig;g[f.fileName]={};e=g[f.fileName][f.actionName.getRegVerifyCode]=
{};e[f.optName.username]=a;e[f.optName.accountType]=b;cloudActionQueryStoped=!1;_setCloudCloseLoadingHandle(d);$.action(g,function(a){if(!0!=cloudActionQueryStoped&&!0==_cloudGetActnErrHandle(a[ERR_CODE],c)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.getRegVerifyCode,function(a){c(a[b.fileName][b.secName.getRegVerifyCode][b.optName.errCode])},!0)}},!0)};this.cloudAccountRegist=function(a,b,c,d,e,g){var f,h={},k=uciCloudConfig;h[k.fileName]={};f=h[k.fileName][k.actionName.register]=
{};f[k.optName.username]=a;f[k.optName.accountType]=b;f[k.optName.verifyCode]=d;f[k.optName.password]=c;cloudActionQueryStoped=!1;$.action(h,function(a){if(!0!=cloudActionQueryStoped&&!0==_cloudGetActnErrHandle(a[ERR_CODE],e)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.register,function(a){e(a[b.fileName][b.secName.register][b.optName.errCode])},!0,g)}},!0)};this.cloudAccountUnind=function(a,b){var c={},d=uciCloudConfig;c[d.fileName]={};c[d.fileName][d.actionName.unbind]={};cloudActionQueryStoped=
!1;$.action(c,function(c){if(!0!=cloudActionQueryStoped&&!0==_cloudGetActnErrHandle(c[ERR_CODE],a)){var d=cloudClientStatus;_cloudActionQueryStatus(d.secName.unbind,function(b){a(b[d.fileName][d.secName.unbind][d.optName.errCode])},!0,b)}},!0)};this.cloudAccountModifyPwd=function(a,b,c,d,e){var g,f={},h=uciCloudConfig;f[h.fileName]={};g=f[h.fileName][h.actionName.modifyAccountPwd]={};g[h.optName.oldPassword]=a;g[h.optName.newPassword]=b;cloudActionQueryStoped=!1;$.action(f,function(a){if(!0!=cloudActionQueryStoped)if(!0==
_cloudGetActnErrHandle(a[ERR_CODE],c)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.modifyAccountPwd,function(a){c(a[b.fileName][b.secName.modifyAccountPwd][b.optName.errCode])},!0,d,e)}else hsLoading(!1)},!0)};this.getAppsUninstalledInfo=function(a,b,c,d,e){var g,f={};f[uciAppInfo.fileName]={};g=f[uciAppInfo.fileName][uciAppInfo.actionName.getUninstalledInfo]={};g[uciAppInfo.dynOptName.start]=a;g[uciAppInfo.dynOptName.end]=b;cloudActionQueryStoped=!1;$.action(f,function(a){if(!0!=cloudActionQueryStoped&&
!0==_cloudGetActnErrHandle(a[ERR_CODE],c)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.getNotInstalledApps,function(a){c(a[b.fileName][b.secName.getNotInstalledApps][b.optName.errCode])},!0,d,e)}},!0)};this.getAppsCanUpdateInfo=function(a,b,c,d,e){var g,f={};f[uciAppInfo.fileName]={};g=f[uciAppInfo.fileName][uciAppInfo.actionName.getUpdateInfo]={};g[uciAppInfo.dynOptName.start]=a;g[uciAppInfo.dynOptName.end]=b;cloudActionQueryStoped=!1;$.action(f,function(a){if(!0!=cloudActionQueryStoped&&
!0==_cloudGetActnErrHandle(a[ERR_CODE],c)){var b=cloudClientStatus;_cloudActionQueryStatus(b.secName.getCanUpdateApps,function(a){c(a[b.fileName][b.secName.getCanUpdateApps][b.optName.errCode])},!0,d,e)}},!0)}}
function CloudUpgradePush(){this.pageCloudPush=!0;this.gOnlineUpgradeNote="";this.upgradeErrCBCloudPush=null;this.gOnlineUpgradeAuto=this.gOnlineUpgradeFail=!1;this.errHandleCloudPush=function(a){switch(parseInt(a)){case ENONE:return!0;case EFWNOTSUPPORTED:case EFILETOOBIG:case EFWEXCEPTION:gOnlineUpgradeNote=errStr.fwFmtErr;break;case EFWNOTINFLANDBL:case EFWNEWEST:gOnlineUpgradeNote=errStr.invNotFoundNewFw;break;case EINVREQUESTTIMEOUT:gOnlineUpgradeNote=appendErrCode(errStr.fwDownLoadFailed,a);
break;case EINVMEMORYOUT:case EINVDOWNLOADFWFAILED:case EINVSENDREQMSGFAILED:case EINVCONNECTTINGCLOUDSERVER:case EINVLASTOPTIONISNOTFINISHED:case ESYSBUSY:gOnlineUpgradeNote=errStr.fwDownLoadFailed;break;case EINVDEVICEIDNOTEXIST:case EINVERRORDEVICEIDFORMATERROR:case EINVILLEGALDEVICE:gOnlineUpgradeNote=appendErrCode(label.cloudDeviceInfoExpt,a);break;case EINVCLOUDCLIENTGENERIC:case EINVCLOUDCLIENTDOWNLOADPARSEDNSREQUEST:case EINVCLOUDCLIENTDOWNLOADESTABLISHTCP:case EINVCLOUDCLIENTDOWNLOADHTTPNOTOK:case EINVCLOUDCLIENTDOWNLOADTIMEOUT:gOnlineUpgradeNote=
appendErrCode(errStr.invNetworkErr,a);break;default:a=cloudErrHandle(a),gOnlineUpgradeNote=!1==a.result?a.tip:errStr.fwUpgradeFailed}$.setTimeout(upgradeFailHdCloudPush,10);return!1};this.setUpgradeErrCBCloudPush=function(a){this.upgradeErrCBCloudPush=a};this.upgradeFailHdCloudPush=function(){"function"==typeof this.upgradeErrCBCloudPush&&(this.upgradeErrCBCloudPush(),this.upgradeErrCBCloudPush=null)};this.checkOnlineUpgrading=function(a){var b=cloudClientStatus.fileName,c={};c[b]={};c[b][KEY_NAME]=
cloudClientStatus.secName.clientInfo;!0==$.local?a():$.query(c,function(c){ENONE==c[ERR_CODE]?(c=parseInt(c[b][cloudClientStatus.secName.clientInfo][cloudClientStatus.optName.fwDownloadStatus]),uciCloudConfig.optValue.cloudDownloading==c||uciCloudConfig.optValue.cloudComplete==c?onlineUpgradeProgress(SYSUPGRADE_SECONDS):a()):a()})};this.onlineUpgradeProgress=function(a){var b=cloudClientStatus.fileName;showProgBarP(statusStr.fwDownloading,function(a){var d={},e={};d[b]={};d[b][KEY_NAME]=cloudClientStatus.secName.clientInfo;
$.query(d,function(d){if(!0==errHandleCloudPush(d[ERR_CODE])){d=d[b][cloudClientStatus.secName.clientInfo];var f=parseInt(d[cloudClientStatus.optName.fwDownloadStatus]);uciCloudConfig.optValue.cloudDownloading==f||uciCloudConfig.optValue.cloudComplete==f?(e.count=parseInt(d[cloudClientStatus.optName.fwDownloadProgress]),e[ERR_CODE]=ENONE):uciCloudConfig.optValue.cloudOutline==f?(e.count=ERR_PERCENT,e[ERR_CODE]=ENONE):EFWNOTINFLANDBL==f?(e.count=ERR_PERCENT,e[ERR_CODE]=EFWNOTINFLANDBL):(e.count=0,
e[ERR_CODE]=ENONE)}else e.count=ERR_PERCENT,e[ERR_CODE]=ENONE;a(e)},!0)},!0,function(b,d){closeProgBar();!0==b?showProgBar(a,label.upgrading,function(){var a=window.location.href,b=a.indexOf("?");0<=b&&(a=a.substring(0,b));$.setTimeout(function(){lanDetecting(function(){location.href=a})},LAN_DETECT_TIME)}):(gOnlineUpgradeNote=d==ENONE?statusStr.fwDownLoadErr:d==EFWNOTINFLANDBL?errStr.fwNotInFLAndBL:appendErrCode(errStr.invNetworkErr,d),upgradeFailHdCloudPush())})};this.checkFWVerSuccessCloudPush=
function(){var a=uciCloudConfig.fileName,b={};b[a]={};b[a][uciCloudConfig.actionName.downloadFw]=null;$.action(b,function(a){!0==errHandleCloudPush(a[ERR_CODE])&&(a=a.wait_time?1E3*parseInt(a.wait_time):SYSUPGRADE_SECONDS,onlineUpgradeProgress(a))})};this.onlineUpgradeCheck=function(a,b,c){function d(){var e={};e[g]={};e[g][KEY_NAME]=cloudClientStatus.secName.checkFwVer;$.query(e,function(e){if(!0==a(e[ERR_CODE]))switch(parseInt(e[g][cloudClientStatus.secName.checkFwVer][cloudClientStatus.optName.actionStatus])){case 0:case 5:"function"==
typeof b&&b(e[g][cloudClientStatus.secName.checkFwVer][cloudClientStatus.optName.errCode]);break;case 4:"function"==typeof c&&c();break;default:$.setTimeout(d,500)}else"function"==typeof b&&b()})}var e=uciCloudConfig.fileName,g=cloudClientStatus.fileName,f={};f[e]={};f[e][uciCloudConfig.actionName.checkFwVersion]=null;$.action(f,function(b){!0==a(b[ERR_CODE])&&d()})};this.onlineUpgrade=function(a,b){this.upgradeErrCBCloudPush=a;this.gOnlineUpgradeNote="";this.onlineUpgradeCheck(errHandleCloudPush,
function(a){void 0!=a?errHandleCloudPush(a):""==gOnlineUpgradeNote&&(gOnlineUpgradeNote=errStr.fwUpgradeFailed,upgradeFailHdCloudPush())},function(){"function"==typeof b&&b();checkFWVerSuccessCloudPush()})}}
function Phone(){this.OS={windows:!1,windowsPhone:!1,unixPC:!1,iPad:!1,iPhone:!1,iMacPC:!1,iPod:!1,android:!1,nokia:!1,player:!1,Android_UC:!1,portable:!1,checkDeviceMode:function(){var a=navigator.platform,b=navigator.userAgent;if(void 0!=a)if(0<=a.indexOf("Win"))0<=b.indexOf("Windows Phone")?this.portable=this.windows=this.windowsPhone=!0:(this.windows=!0,this.portable=!1);else if(0<=b.indexOf("NOKIA"))this.portable=this.nokia=!0;else if(0<=b.indexOf("Android"))this.portable=this.android=!0;else if(0<=
a.indexOf("iPad"))this.portable=this.iPad=!0;else if(0<=a.indexOf("iPhone"))this.portable=this.iPhone=!0;else if(0<=a.indexOf("iPod"))this.portable=this.iPod=!0;else if(0<=b.indexOf("Wii")||0<=b.indexOf("PLASTATION"))this.portable=this.player=!0;else if(0<=a.indexOf("Mac"))this.iMacPC=!0,this.portable=!1;else{if(0<=a.indexOf("X11")||0<=a.indexOf("Linux")&&0>a.indexOf("arm"))this.unixPC=!0,this.portable=!1}else 0<=b.indexOf("Android")?this.portable=this.android=!0:this.portable=1024<=document.body.clientWidth||
1024<=document.body.clientHeight?!1:!0}};this.phoneSet={bContinuePCSet:!1,bPhoneWizardSet:!1};OS.checkDeviceMode()}
function AddNewDevice(){this.scanedExtList=[];this.pollStatusHd;this.gGetHyFiListHandler;this.bStopScan=this.bExtScanned=this.bIsInStepTwo=this.bAddingExt=!1;this.notSuccessExtNum=0;this.scanedExtGrid=null;this.POLL_TIME=2E3;this.WAITING_ADD="1";this.ADDING="2";this.chgExtContent=function(a){switch(a){case "resetCon":id("noMyExt").style.display="none";id("noneExt").style.display="none";id("stepOne").style.display="none";id("resetCon").style.display="block";a=id("popTitle");a.innerHTML=label.resetRouter;
this.scanedExtList=[];break;case "stepOne":id("stepOne").style.display="block";id("resetCon").style.display="none";id("toReset").style.display="block";id("stepOneImg").src="../web-static/images/power.png";id("stepOneLabel").innerHTML=label.addNewDevTips1;id("startScan").value=label.easyExtendPressed;a=id("popTitle");a.innerHTML=label.addNewDev;break;case "stepTwo":id("noneExt").style.display="none";id("stepOne").style.display="none";id("stepTwo").style.display="block";break;case "stepThree":id("noMyExt").style.display=
"none";id("stepTwo").style.display="none";id("stepThree").style.display="block";break;case "noMyExt":clearTimeout(this.gGetHyFiListHandler);clearTimeout(this.pollStatusHd);id("noMyExt").style.display="block";id("stepThree").style.display="none";id("resetCon").style.display="none";break;case "finished":this.bIsInStepTwo=!1,clearTimeout(this.pollStatusHd),clearTimeout(this.gGetHyFiListHandler),closeLoading(),this.bExtScanned?(0!=this.notSuccessExtNum?showConfirm("添加超时，您有"+this.notSuccessExtNum+"个设备未添加成功，请点击【网络状态】界面右上角的“添加新路由”按钮，重新添加",
function(){setVigNetCtlConDis(!1);$("#hsConf input.cancel").first().css("display","inline")},"知道了"):showConfirm(label.addExtTimeoutAlert,function(){setVigNetCtlConDis(!1);$("#hsConf input.cancel").first().css("display","inline")},"知道了"),$("#hsConf input.cancel").first().css("display","none")):(id("noneExt").style.display="block",id("stepTwo").style.display="none")}};this.addHyFi=function(a){var b={};bAddingExt=!0;clearTimeout(gGetHyFiListHandler);b[uciPlc.fileName]={};b[uciPlc.fileName][uciPlc.actionName.addExt]=
{};b[uciPlc.fileName][uciPlc.actionName.addExt][uciPlc.optName.mac]=scanedExtList[a].mac;$.action(b,function(a){bAddingExt=!1;gGetHyFiListHandler=$.setTimeout(getSearchHyFiList,POLL_TIME)})};this.pollSearchStatus=function(){var a={};a[uciPlc.fileName]={};a[uciPlc.fileName][KEY_NAME]=[uciPlc.secName.scanExtStatus];$.query(a,function(a){bStopScan||(ENONE==a[ERR_CODE]?uciPlc.optValue.status.doing==a[uciPlc.fileName][uciPlc.secName.scanExtStatus][uciPlc.optName.status]?pollStatusHd=$.setTimeout(pollSearchStatus,
POLL_TIME):chgExtContent("finished"):chgExtContent("finished"))})};this.getSearchHyFiList=function(){var a={};a[uciPlc.fileName]={};a[uciPlc.fileName][KEY_TABLE]=uciPlc.secType.scannedExt;$.query(a,function(a){if(!bStopScan&&!bAddingExt){scanedExtList=formatTableData(a[uciPlc.fileName][uciPlc.secType.scannedExt]);id("scanedExtNum").innerHTML=scanedExtList.length;if(0<scanedExtList.length){bIsInStepTwo=!1;closeLoading();bExtScanned=!0;"none"===id("stepThree").style.display&&(id("stepTwo").style.display=
"none",id("stepThree").style.display="block",scanedExtGrid=new DataGrid,scanedExtGrid.init({id:"scanedExtTbl",data:scanedExtList,classCol:{gridClassName:"dataGrid2"},paging:{num:7,page:1},head:[{field:"路由器名称",width:100},{field:label.mac,width:60},{field:label.operation,width:60}],list:[{name:"name",maxSize:40},{name:"mac",type:"mac",maxSize:30},{name:"status",type:"btn",value:"",click:addHyFi,subType:"addExt"}],hasSelBox:!1,checkIndex:1,edit:!1,toolBar:{id:"refresh",refresh:null}}));for(a=notSuccessExtNum=
0;a<scanedExtList.length;a++)0!=scanedExtList[a].status&&3!=scanedExtList[a].status&&(notSuccessExtNum+=1);scanedExtList.sort(function(a,b){return a.mac>b.mac?1:-1});scanedExtGrid.setDataSource(scanedExtList);scanedExtGrid.refresh()}gGetHyFiListHandler=$.setTimeout(getSearchHyFiList,POLL_TIME)}})};this.startScan=function(){var a={};scanedExtList=[];this.bStopScan=!1;clearTimeout(this.gGetHyFiListHandler);clearTimeout(this.pollStatusHd);a[uciPlc.fileName]={};a[uciPlc.fileName][uciPlc.actionName.scanExt]=
null;$.action(a,function(a){ENONE==a[ERR_CODE]?(pollStatusHd=$.setTimeout(pollSearchStatus,POLL_TIME),gGetHyFiListHandler=$.setTimeout(getSearchHyFiList,POLL_TIME)):chgExtContent("finished")})};this.onStartScan=function(){chgExtContent("stepTwo");bIsInStepTwo=!0;bExtScanned=!1;startScan()};this.stopScan=function(){this.bStopScan=!0;clearTimeout(this.gGetHyFiListHandler);clearTimeout(this.pollStatusHd);var a={};a[uciPlc.fileName]={};a[uciPlc.fileName][uciPlc.actionName.stopScanExt]=null;$.action(a);
this.scanedExtList=[]};this.onFinish=function(){for(var a=!1,b=0,c=0;c<scanedExtList.length;c+=1){if(WAITING_ADD==scanedExtList[c].status||ADDING==scanedExtList[c].status){a=!0;break}"0"==scanedExtList[c].status&&(b+=1)}a?showConfirm(label.addingExtConfirm,function(a){a||(stopScan(),setVigNetCtlConDis(!1))},btn.continueAdding,btn.finishAdding):0!==b?showConfirm(label.youHave+b+label.hyfiNotAddAllTip,function(a){a||(stopScan(),setVigNetCtlConDis(!1))},btn.continueAdding,btn.finishAdding):(stopScan(),
setVigNetCtlConDis(!1))};this.setVigNetCtlConDis=function(a){var b=id("VigNetControlCon");!0===a?showCoverB(function(){b.style.visibility="visible";b.style.top="100px"}):hideCoverB(function(){b.style.visibility="hidden";b.style.top="-9999px";emptyNodes(b)})};this.addChildRt=function(a){var b,c,d;!0===a?(b="resetImg",c=label.addNewDevResetTips,d=label.alreadyDoThose):(b="powerImg",c=label.addNewDevTips1,d=label.easyExtendPressed);var e=id("VigNetControlCon");null==e?(e=document.createElement("div"),
e.className="VigNetControlCon",e.id="VigNetControlCon",document.body.appendChild(e)):emptyNodes(e);e.innerHTML='<div class="addNewDevDiv" id="addNewDevDiv"><div class="popHd"><i class="closeImg" id="closePop"></i><label id="popTitle" class="title">'+label.addNewDev+'</label></div><div id="stepOne"><div class="desCon" style="margin-right: 64px;"><i id="stepOneImg" class="'+b+'"></i><label id="stepOneLabel">'+c+'</label></div><div class="desCon"><i class="easyExtend"></i><label>'+label.addNewDevTips2+
'</label></div><input id="startScan" type="button" class="btnW" value="'+d+'" style="margin: 40px auto 0;"><input id="toReset" type="button" class="btnW" value="'+label.routerBeenUsed+'" style="margin: 8px auto 0;background: #D9D9D9;"><p>'+label.extNoFlashTip+'</p></div><div id="stepTwo"><img src="../web-static/images/loadingRouteSet.gif"><p>'+label.searching+'</p></div><div id="stepThree" style="display: none;"><span class="devNum">'+label.discover+'<span id="scanedExtNum">0</span>'+label.discoverSuffix+
'</span><input id="refresh" class="button" type="button" value="'+btn.refresh+'" style="float: right;"><div><table id="scanedExtTbl" class=""></table><p id="showNoMyExt">'+label.noYourExt+'</p></div><div class="btnCon"><input id="finish" class="button" type="button" value="'+btn.finish+'"><input id="addAll" class="button" type="button" value="'+btn.addAll+'" style="margin-left: 24px;"></div></div><div id="resetCon"><img src="../web-static/images/reset.png"><p class="resetTips">请按以下步骤将<span>待添加的路由器</span>恢复出厂设置：</p><p class="des">1.请确保待添加的路由器已上电。<br>2.长按待添加路由器的RESET键3秒，直到指示灯快闪，路由器开始恢复出厂设置。<br>3.路由器恢复出厂设置成功后，设备指示灯会快闪2秒。<br>4.请避免将直接连接到猫或入户网口的路由器恢复出厂设置。</p><input id="toStepOne" type="button" class="btnW" value="我已将路由器恢复出厂设置" style="margin: 30px auto 0;"><input id="goBack" type="button" class="btnW" value="返回" style="margin: 8px auto 0;background: #D9D9D9;"></div><div id="noneExt"><p class="tips">未发现可添加的路由器</p><p class="des">1.请确认您已按下待添加路由器的“易展”按键。<br>2.若您已多次按下“易展”按键，仍无法添加，<br>请将待添加的路由器<span id="resetSpan">恢复出厂设置</span>。</p><input id="searchAgain" type="button" class="btnW" value="重新搜索" style="margin: 30px auto 0;"></div><div id="noMyExt"><p class="tips">未发现您的路由器？</p><p class="des">1.请确认您已按下待添加路由器的“易展”按键。<br>2.若您已多次按下“易展”按键，仍无法添加，<br>请将待添加的路由器<span id="resetSpan1">恢复出厂设置</span>。</p><input id="toStepThree" type="button"class="btnW"  value="返回" style="margin: 30px auto 0;"></div></div>';
!0===a?id("toReset").style.display="none":id("toReset").style.display="block";id("startScan").onclick=onStartScan;id("searchAgain").onclick=onStartScan;id("closePop").onclick=function(){bIsInStepTwo?showConfirm(label.discoveringExtConfirm,function(a){a&&(stopScan(),setVigNetCtlConDis(!1))}):onFinish()};id("finish").onclick=onFinish;id("refresh").onclick=function(){for(var a=!1,b=0;b<scanedExtList.length;b+=1)if(scanedExtList[b].status==ADDING||scanedExtList[b].status==WAITING_ADD){a=!0;break}a?showConfirm(label.refreshExtConfirm,
function(a){a&&(startScan(),showLoading(label.refreshing,void 0,void 0,!1))}):(startScan(),showLoading(label.refreshing,void 0,void 0,!1))};id("addAll").onclick=function(){for(var a,b=[],c=0;c<scanedExtList.length;c+=1)"0"==scanedExtList[c].status&&b.push(scanedExtList[c].mac);bAddingExt=!0;clearTimeout(gGetHyFiListHandler);var d={};d[uciPlc.fileName]={};d[uciPlc.fileName][uciPlc.actionName.addExt]={};d[uciPlc.fileName][uciPlc.actionName.addExt][uciPlc.optName.mac]=b;$.action(d,function(){bAddingExt=
!1;a=$("#scanedExtTbl input");for(c=0;c<a.length;c+=1)"classNameBtn"===a[c].className&&(a[c].className="classNameLoading",a[c].value="");gGetHyFiListHandler=$.setTimeout(getSearchHyFiList,POLL_TIME)})};id("toReset").onclick=function(){chgExtContent("resetCon");id("goBack").onclick=function(){chgExtContent("stepOne")}};id("resetSpan").onclick=function(){chgExtContent("resetCon");id("goBack").onclick=function(){id("noneExt").style.display="block";id("resetCon").style.display="none"}};id("resetSpan1").onclick=
function(){chgExtContent("resetCon");id("goBack").onclick=function(){chgExtContent("noMyExt")}};id("toStepOne").onclick=function(){chgExtContent("stepOne")};id("showNoMyExt").onclick=function(){chgExtContent("noMyExt")};id("toStepThree").onclick=function(){chgExtContent("stepThree");pollStatusHd=$.setTimeout(pollSearchStatus,0);gGetHyFiListHandler=$.setTimeout(getSearchHyFiList,0)};setVigNetCtlConDis(!0)}}
function RouterRelayConflict(){this.transRoleName=function(a,b,c,d){var e="";switch(a.slice(0,3).toUpperCase()){case "WAN":e=a.toUpperCase();break;case "LAN":e=d&&!b&&c==uciSystem.optValue.sysMode.routerMode?"WAN/LAN":a.toUpperCase();break;case "DOW":e="IPTV口";break;case "IPT":e="IPTV口";break;case "LAG":e="聚合口";break;case "GAM":e="游戏专用口";break;case "UPL":e="IPTV上联口";break;default:e="LAN"}return e};this.initPortData=function(a,b,c,d){for(var e=0,g=!1,e=0;e<a.length;e++)if("WAN"==a[e].role.slice(0,
3).toUpperCase()){g=!0;break}for(e=0;e<a.length;e++)b[e]={},b[e].state="disable",b[e].name=transRoleName(a[e].role,g,c,d)};this.showAlertDialog=function(a,b){var c=id("VigNetControlCon");null==c?(c=document.createElement("div"),c.className="VigNetControlCon",c.id="VigNetControlCon",document.body.appendChild(c)):emptyNodes(c);c.innerHTML=a;c=new NiceScroll("popCon");c.scrollTipOpacity(1);c.scrollTipSet({background:"#E6E6E6"});c.scrollBarSet({zIndex:1010});c.init();b();id("closePop").onclick=function(){setVigNetCtlConDis(!1)};
id("cancel").onclick=function(){setVigNetCtlConDis(!1)};setVigNetCtlConDis(!0)};this.generatePortLayout=function(a,b){$.action({port_manage:{get_new_dev_info:{sys_mode:a}}},function(c){c=c.dev_info;for(var d=0;d<c.length;d++)if(0!=c[d].phy_info.length){var e=1==c[d].cap,g=[];initPortData(c[d].phy_info,g,a,e);var f={};f.portArr=g;f.name=c[d].name;f.powerPos=c[d].power_pos;e?b.unshift(f):b.push(f)}},!1)};this.changeSysModeAlert=function(a,b,c){var d,e=[],g="",f="",h=!0,k=!0;gSupportPortManage&&generatePortLayout("close"==
a?uciSystem.optValue.sysMode.routerMode:b,e);if(0==e.length){if("close"==a||uciSystem.optValue.sysMode.routerMode==b){c();return}k=!1}switch(a){case "switch":d="切换上网方式";uciSystem.optValue.sysMode.routerMode==b?(f="切换上网方式后，路由器端口配置会发生变化，确定切换吗？",h=!1):f="切换为"+(uciSystem.optValue.sysMode.apMode==b?"AP（有线中继）":"桥接（无线中继）")+"后，部分功能将无法使用"+(k?"，且路由器端口配置会发生变化":"")+"。确定切换吗？";break;case "open":d="开启"+(uciSystem.optValue.sysMode.apMode==b?"AP（有线中继）":"桥接（无线中继）");f="开启"+(uciSystem.optValue.sysMode.apMode==b?"AP（有线中继）":
"桥接（无线中继）")+"后，部分功能将无法使用"+(k?"，且路由器端口配置会发生变化":"")+"。确定开启吗？";break;case "close":d="关闭"+(uciSystem.optValue.sysMode.apMode==b?"AP（有线中继）":"桥接（无线中继）"),f="关闭"+(uciSystem.optValue.sysMode.apMode==b?"AP（有线中继）":"桥接（无线中继）")+"后，路由器端口配置会发生变化。确定关闭吗？",h=!1}gMulWanSupport&&gIptvSupport?g="端口功能自定义（双WAN口、IPTV口不可用）、":gMulWanSupport?g="端口功能自定义（双WAN口不可用）、":gIptvSupport&&(g="端口功能自定义（IPTV口不可用）、");showAlertDialog('<div class="relayAlertCon"><div class="popHd"><i class="closeImg" id="closePop"></i><label id="popTitle" class="title">'+
d+'</label></div><div class="popCon" id="popCon"><p>'+f+'</p><div id="unavailableDiv"><p class="unavailable">不可用功能：</p><p>LAN口设置、'+g+(gIpv6Support?"IPv6设置、":"")+'DHCP服务器、DDNS、DMZ主机、IP与MAC绑定、虚拟服务器。</p></div><div class="portLayoutDiv"><p class="portTips">路由器端口配置将变为：</p></div></div><div class="popFoot"><input id="changeMode" type="button" value="确定" class="btnA subBtn" /><input id="cancel" type="button" value="取消" class="btnA subBtn cancel" /></div>',function(){id("changeMode").onclick=function(){c();
setVigNetCtlConDis(!1)};h||$("#unavailableDiv").hide();if(0==e.length)$(".portLayoutDiv").hide();else for(var a=0;a<e.length;++a){$(".portLayoutDiv").append('<p style="margin: 8px auto;">'+e[a].name+'</p><div class="portLayoutContainer'+a+'" style="margin-bottom: 24px;"></div>');var b=new PortConfig,d={element:$(".portLayoutContainer"+a)[0],type:"setting",port:e[a].portArr,powerPos:e[a].powerPos,callback:null};b.init(d)}})}}
function MeshHelp(){this.setMeshHelpConDisplay=function(a){var b=id("meshHelpCon");!0===a?showCoverB(function(){b.style.visibility="visible";b.style.top="100px"}):hideCoverB(function(){b.style.visibility="hidden";b.style.top="-9999px";emptyNodes(b)})};this.showMeshHelpDialog=function(){var a=id("meshHelpCon");null==a?(a=document.createElement("div"),a.className="VigNetControlCon",a.id="meshHelpCon",document.body.appendChild(a)):emptyNodes(a);a.innerHTML='<div class="meshHelpDiv"><div class="popHd"><i class="closeImg" id="closePop"></i></div><div class="popBody"><p>本路由器可作为“易展”子路由器扩展现有无线网络：</p><div class="desCon" style="margin-right: 64px;"><i class="resetIcon"></i><label>先将本路由器恢复至出厂状态（按住“Reset按键”直到系统指示灯闪烁后松开）。</label></div><div class="desCon"><i class="meshButton"></i><label>本路由器恢复出厂状态后，分别按下前端“易展”主路由器和本路由器的“易展”按键进行组网配对。</label></div></div></div>';
id("closePop").onclick=function(){setMeshHelpConDisplay(!1)};setMeshHelpConDisplay(!0)}}
(function(){Phone.call(window);Tool.call(window);PageFunc.call(window);Cover.call(window);Explorer.call(window);LocalStorageSD.call(window);HighSet.call(window);Basic.call(window);ShowTips.call(window);Select.call(window);LanDetect.call(window);ProgressBar.call(window);Help.call(window);BlockGrid.call(window);TimeControlSet.call(window);Slp.call(window);CloudUpgradePush.call(window);CloudAction.call(window);CloudCommon.call(window);AddNewDevice.call(window);RouterRelayConflict.call(window);MeshHelp.call(window)})();
