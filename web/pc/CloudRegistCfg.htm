

<div class="cloudAccountLogo">
	<label class="proName" id="productName">{%label.productName%}</label>
</div>
<div class="cloudManageCon">
	<div id="cloudMgtDetial" class="cloudMgtDetial">
		<p class="title">
			<span class="title">{%label.cloudAccountCreate%}</span>
		</p>
		<input id="return" class="returnBtn" type="button" />
		<ul id="emailRegistTitle" class="gridLine gridLineD disNone">
			<label class="desLblB"></label>
			<span class="phoneRegist">{%label.emailRegist%}</span>
			<a class="phoneAdvice" href="javascript:void(0);">{%label.phoneRegist%}></a>
		</ul>
		<ul id="phoneRegistTitle" class="gridLine gridLineD">
			<label class="desLblB"></label>
			<span class="phoneRegist">{%label.phoneRegist%}</span>
			<a class="phoneAdvice" href="javascript:void(0);">{%label.emailRegist%}></a>
		</ul>
		<ul class="gridLine gridLineD mpPhoneRgt20">
			<label id="cloudAccountLbl" class="desLblB" for="cloudAccount">{%label.phoneNum%}</label>
			<li class="textConE textCon"><input id="cloudAccount" class="textC text imeModeN" maxLength="64" /></li>
			<li id="cloudAccountNote" class="note">
				<i class="tip"></i>
				<span class="note"></span>
			</li>
		</ul>
		<ul class="gridLine gridLineD">
			<label class="desLblB" for="cloudPwd">{%label.loginSetPwd%}</label>
			<li class="textConE textCon"><input id="cloudPwd" class="textC text imeModeN" type="password" maxLength="32" /></li>
			<li id="lgPwdNoteLess" class="note">
				<i class="error"></i>
				<div class="noteCon">
					<p >{%label.chgPwdLess%}</p>
				</div>
			</li>
			<li id="lgPwdNoteInvalidChar" class="note">
				<i class="error"></i>
				<div class="noteCon">
					<p >{%errStr.pwdCharValid%}</p>
				</div>
			</li>
			<li id="lgPwdNote" class="note">
				<i class="warn" id="pwdDepI"></i>
				<div class="noteCon">
					<p class="twoLine pwdDepC">{%label.chgPwdDep%}{%label.colon%}<label id="pwdDep">{%label.weak%}</label></p>
					<div class="pwdDepL"><label id="chgPwdDep"></label></div>
				</div>
			</li>
		</ul>
		<p class="inputTip">{%label.chgPwdChar%}</p>
		<ul class="gridLine gridLineD">
			<label class="desLblB" for="cloudConfPwd">{%label.loginPwdConf%}</label>
			<li class="textConE textCon"><input id="cloudConfPwd" type="password" class="textC text imeModeN" maxLength="32" /></li>
			<li id="lgPwdConfNote" class="note">
				<i class="error"></i>
				<div class="noteCon">
					<p class="chgPwdDif">{%label.chgPwdDif%}</p>
				</div>
			</li>
		</ul>
		<ul class="gridLine gridLineD">
			<label class="desLblB" for="CAPTCHA">{%label.loginCAPTCHA%}</label>
			<li class="textConB5 textCon"><input id="CAPTCHA" class="textC textC1 text imeModeN"  maxLength="6" /></li>
			<input id="resend" type="button" value="{%btn.resend%}" disabled="true" class="resendBtn disNone" />
			<input id="CAPTCHAGet" type="button" value="{%btn.CAPTCHAGet%}" class="subBtn btnA btnA1 disNone" />
		</ul>
		<p id="CAPTCHASendTip" class="inputTip disNone">{%label.CAPTCHASentEmainTip%}</p>
		<ul class="gridLine gridLineD mpPhoneRgt15">
			<label class="desLblB"></label>
			<li class="textConE2 textCon">
				<input id="agree" type="checkbox" class="checkbox" />
				<label class="agreeAndRead" for="agree">{%label.agreeAndRead%}</label>
				<a class="cloudRegistProtocalA" href="http://src.tplinkcloud.com.cn/agreement.html" target="_blank">{%label.cloudRegistProtocal%}</a>
			</li>
			<li id="lgAgreeNote" class="note">
				<i class="error"></i>
				<div class="noteCon">
					<p class="chgPwdDif">{%label.agreeAndReadTip%}</p>
				</div>
			</li>
		</ul>
		<input id="cloudRegistSub" type="button" value="{%btn.ok%}" class="subBtn cloudSub" />
	</div>
	<div class="cloudMgtFoot">
		<ul class="footConCloud">
			<li id="softVersionCloud" class="softVersion">{%label.softVersion%}{%label.colon%}</li>
			<li class="netAddrTel"><a href="http://www.tp-link.com.cn" target="_blank">{%label.officalAddr%}</a><label>{%label.surpportTel%}400-8863-400</label></li>
		</ul>
	</div>
	<img src="../web-static/images/cloudF.png" class="cloudBRBgF" />
	<img src="../web-static/images/cloudS.png" class="cloudBRBgS" />
	<img src="../web-static/images/cloudS.png" class="cloudBRBgT" />
</div>
<script type="text/javascript">function gCloudAccountRegstErrHandle(b,c){var a="";switch(parseInt(b)){case ENONE:return gCloudAccountBR.success=!0,gCloudAccountBR.noteF=label.cloudAccountBindSuccess,!0;case EINVACCOUNTREGISTED:a=appendErrCode(label.cloudAcccountRegisted,b);break;case EINVACCOUNTNOTEXIST:a=appendErrCode(errStr.invCloudAccountNotExist,b);break;case EINVPASSWORDFMT:case EINVACCOUNTPWDFMT:a=appendErrCode(errStr.pwdInvalid,b);break;case EINVACCOUNTPWDERR:a=appendErrCode(label.passwdErr,b);break;case EINVCLOUDUSRCOUNTFORMAT:case EINVACCOUNTEMAILFMT:case EINVACCOUNTPHONENUMFMT:a=
appendErrCode(errStr.invCloudAccountFmtErr,b);break;case EINVACCOUNTRESETPWDCAPTCHAERR:case EINVVERICODEFORMAT:a=appendErrCode(errStr.CAPTCHAErrorTip,b);break;case EINVCLOUDERRORCAPTCHAINVAL:a=appendErrCode(errStr.invCloudCAPTCHAInval,b);break;default:a=cloudErrHandle(b),a=!1==a.result?a.tip:appendErrCode(errStr.invRequestFail,b)}gCloudAccountBR.success=!1;showAlert(a,c);return!1}
function gCloudAccountBRHd(b,c,a){showLoading(label.cloudAccoundRegistWaiting,a,void 0,!1);cloudAccountRegist(gCloudAccountBR.account,gCloudAccountBR.accountType,gCloudAccountBR.pwd,gCloudAccountBR.CAPTCHAR,function(a){closeLoading();!0==gCloudAccountRegstErrHandle(a)&&"function"==typeof b&&b()},function(){gCloudAccountBR.success=!1;gCloudAccountBR.noteF=label.cloudAccountRegistFail;gCloudAccountBR.noteS=label.cloudServerNoRespCheckNetwork;"function"==typeof c&&c()})}
function gCloudAccountBindErrHandle(b,c){var a="";switch(parseInt(b)){case ENONE:return gCloudAccountBR.success=!0,gCloudAccountBR.noteF=label.cloudAccountBindSuccess,!0;case EINVACCOUNTBINDED:case EINDEVICEALREADYBOUND:a=label.cloudAccountBindFailAndCallSupport;break;case EINVDEVICEIDNOTEXIST:case EINVERRORDEVICEIDFORMATERROR:a=label.cloudDeviceInfoExpt;break;case EINVACCOUNTNOTEXIST:a=appendErrCode(errStr.invCloudAccountNotExist,b);break;case EINVACCOUNTPWDERR:a=appendErrCode(errStr.invCloudOldPwdErr,
b);break;case EINVACCOUNTPHONENUMFMT:a=appendErrCode(errStr.invCloudAccountFmtErr,b);break;default:a=cloudErrHandle(b),a=!1==a.result?a.tip:appendErrCode(errStr.invRequestFail,b)}gCloudAccountBR.success=!1;showAlert(a,c);return!1}
function gCloudAccountBindHd(b,c,a){showLoading(label.cloudAccoundBindWaiting,a,void 0,!1);cloudAccountBind(gCloudAccountBR.account,gCloudAccountBR.pwd,function(a){closeLoading();!0==gCloudAccountBindErrHandle(parseInt(a))&&(gCloudAccountBR.success=!0,gCloudAccountBR.noteF=label.cloudAccountBindSuccess,gCloudAccountBR.noteS=label.cloudServerNoRespCheckNetwork,"function"==typeof b&&b())},function(){gCloudAccountBR.success=!1;gCloudAccountBR.noteF=label.cloudAccountBindFail;gCloudAccountBR.noteS=label.cloudServerNoRespCheckNetwork;
"function"==typeof c&&c()})}function cloudRegistBindLoadPage(){loadPage("CloudBindRegistResult.htm","cloudMgtDetial",void 0,{bClearPageTickArray:!1})}function cloudRegistSubHd(b){!0==b()&&gCloudAccountBRHd(function(){$.setTimeout(function(){gCloudAccountBindHd(cloudRegistBindLoadPage,cloudRegistBindLoadPage,cloudAccountQueryStop)},10)},cloudRegistBindLoadPage,cloudAccountQueryStop)}
function init(){function b(d,a){var b="";switch(parseInt(d)){case ENONE:return!0;case EINVERICODEEMPTY:a="CAPTCHA";b=errStr.invVericodeNULL;break;case EINVACCOUNTRESETPWDCAPTCHAERR:case EINVVERICODEFORMAT:a="CAPTCHA";b=appendErrCode(errStr.CAPTCHAErrorTip,d);break;case EINVCLOUDUSRCOUNTFORMAT:case EINVACCOUNTEMAILFMT:case EINVACCOUNTPHONENUMFMT:a=e;b=appendErrCode(errStr.invCloudAccountFmtErr,d);break;case EINVACCOUNTREGISTED:a=e;b=appendErrCode(label.cloudAcccountRegisted,d);break;case EINVACCOUNTTYPEERR:a=
e;b=appendErrCode(errStr.invCloudAccountType,d);break;case EINVDEVICELOCKED:b=appendErrCode(errStr.invCloudDeviceLocked,d);break;case EINVCLOUDERRORCAPTCHAINVAL:b=appendErrCode(errStr.invCloudCAPTCHAInval,d);break;default:cloudErrRel=cloudErrHandle(d),b=!1==cloudErrRel.result?cloudErrRel.tip:errStr.invRequestFail}showAlert(b,a);return!1}function c(){z.style.visibility="hidden"}function a(){c();if(l.value==m.value)return r.style.visibility="hidden",!0;r.style.visibility="visible";return!1}function y(){var d=
24,a="",b=p,c=p,k=m.value,e=k.length,g="visible",f=!0,h="warn";0<=e&&6>e?(f=!1,c="none",$("#lgPwdNoteLess").css("display",p).css("visibility","visible")):/^[\x21-\x7e]+$/.test(k)?32<e?(c=b="none",f=!1):c=b="none":(b="none",f=!1);if("none"!=b||"none"!=c)g="hidden";else if(/^\d+$/.test(k)||/^[\x21-\x2f\x3a-\x40\x5b-\x60\x7b-\x7e\s]+$/.test(k)||/^[a-zA-Z]+$/.test(k))10>=e?a=label.weak:(a=label.media,d*=2);else{var l=a=!1,n=!1,a=/\d/g.test(k),l=/[a-zA-Z]/g.test(k),n=/[\x21-\x2f\x3a-\x40\x5b-\x60\x7b-\x7e\s]/g.test(k);
!0==(a&&n&&l)?(a=label.strong,d*=3,h="correct"):10>=e?(a=label.media,d*=2):(a=label.strong,d*=3,h="correct")}z.style.visibility=g;H.style.display=b;s.style.display=c;I.innerHTML=a;J.style.width=d+"px";K.className=h;return f}function t(){var a=e.value;if(n==h){if(0==a.length)return showNoteB("cloudAccountNote",label.cloudAccountPhoneMumNull),!1;if(!1==checkNum(a)||!1==checkPhoneNum(a))return showNoteB("cloudAccountNote",label.cloudAccountPhoneNumFmtErr,"twoLine"),!1;closeNote("cloudAccountNote");return!0}if(0==
a.length)return showNoteB("cloudAccountNote",label.cloudAccountEmailNull),!1;if(64<a.length)return showNoteB("cloudAccountNote",errStr.invMailLen),!1;if(!1==checkEmail(a))return showNoteB("cloudAccountNote",label.cloudAccountEmailFmtErr),!1;closeNote("cloudAccountNote");return!0}function L(){var d=e.value,c=m.value,f=id("CAPTCHA").value;if(!1==t()||!1==y()||!1==a())return!1;gCloudAccountBR.pwd=c;if(0==f.length)return b(EINVERICODEEMPTY),!1;gCloudAccountBR.account=d;gCloudAccountBR.CAPTCHAR=f;gCloudAccountBR.accountType=
h;return!0}function u(a){a=parseInt(a);0>=a?(v.style.display="inline",g.style.display="none",g.time=-1):(v.style.display="none",g.value=btn.resend+"("+a+")",g.time=--a,g.style.display="inline")}function A(a){closeNote("cloudAccountNote");h=a;n==a?(B.innerHTML=label.phoneNum,C.style.display="block",D.style.display="none"):(B.innerHTML=label.emailBox,C.style.display="none",D.style.display="block")}var e=id("cloudAccount"),m=id("cloudPwd"),l=id("cloudConfPwd");id("adminPwd");var p=isIESix||isIESeven?
"inline":"inline-block",z=id("lgPwdNote"),r=id("lgPwdConfNote"),H=id("lgPwdNoteLess"),E=id("lgAgreeNote"),s=id("lgPwdNoteInvalidChar"),I=id("pwdDep"),J=id("chgPwdDep"),v=id("CAPTCHAGet"),g=id("resend"),q=id("CAPTCHASendTip"),M=id("cloudRegistSub"),F=$("a.phoneAdvice"),D=id("emailRegistTitle"),C=id("phoneRegistTitle"),B=id("cloudAccountLbl"),G=id("return"),w=id("agree"),K=id("pwdDepI"),N=uciCloudConfig.optValue.accountTypeEmail,n=uciCloudConfig.optValue.accountTypePhoneNum,h=n,x={},f=!1;id("productName").innerHTML=
label.productName+proName;cloudPageSetNodes(!0);v.onclick=function(){var a,c=e.value,g=null;!0!=f&&(!0==t()?(f=!0,a=$.setTimeout(function(){showLoading(label.cloudServerWaitingResp,function(){f=!1;cloudAccountQueryStop()},void 0,!1)},2E3),cloudAccountGetRegistAC(c,h,function(e){closeLoading();clearTimeout(a);!0==b(e)&&(u(120),q.style.display="block",N==h?null!=(g=emailLinkCheck(c))?q.innerHTML=label.CAPTCHASentEmainTip+"<a href='"+g+"' target='blank'>"+label.CAPTCHASentEmainTipS+"</a>":q.innerHTML=
label.CAPTCHASentEmainTip+label.CAPTCHASentEmainTipS:q.innerHTML=label.CAPTCHASentPhTip);f=!1},function(){clearTimeout(a);f=!1})):f=!1)};(function(){"none"!=g.style.display&&u(g.time);$.setTimeout(arguments.callee,1E3)})();x[cloudClientStatus.fileName]={};x[cloudClientStatus.fileName][KEY_NAME]=cloudClientStatus.secName.regVeriCodeTimer;$.query(x,function(a){b(a[ERR_CODE])&&u(parseInt(a[cloudClientStatus.fileName][cloudClientStatus.secName.regVeriCodeTimer][cloudClientStatus.optName.regVeriCodeTimer]))});
F[0].onclick=function(){A(n)};F[1].onclick=function(){A(uciCloudConfig.optValue.accountTypeEmail)};w.checked=!0;w.onclick=function(){E.style.visibility=!0==this.checked?"hidden":"visible"};M.onclick=function(){!1==w.checked?E.style.visibility="visible":cloudRegistSubHd(L)};id("softVersionCloud").innerHTML+=gCloudAccountBR.softVersion.split(" ")[0];G.onclick=function(){cloudGoBackBR({binded:!1})};G.value=!0==gCloudAccountBR.bFWzd?"{%btn.skip%}>":"{%btn.backWzd%}>";e.onblur=t;l.onkeyup=a;l.onfocus=
c;l.onblur=a;m.onkeyup=y;m.onblur=function(){var a=m.value.length;0<=a&&6>a&&$("#lgPwdNoteLess").css("display",p).css("visibility","visible")};m.onfocus=function(){r.style.visibility="hidden"};s.style.visibility="visible";s.style.display="none"}init();
</script><style type="text/css">body{background:#5e85c0!important;fontSize:12px;height:100%}span.phoneRegist{color:#fff;font-size:18px;font-weight:bold}span.phoneAdvice{color:#fff;font-size:14px;font-weight:bold}a.phoneAdvice{color:#184283;font-weight:bold;font-size:14px;margin-left:28px;text-decoration:none}input.resendBtn{background:#5e85c0;border-radius:5px;border:1px solid #184283;color:#184283;cursor:pointer;height:25px;font-size:12px;margin-left:5px;vertical-align:middle;width:92px}label.agreeAndRead{color:#fff;font-size:12px;margin-left:5px;line-height:30px;vertical-align:middle}a.cloudRegistProtocalA{color:#fff;font-size:12px;vertical-align:middle}li.textConE1 label{color:#fff;font-size:12px;line-height:36px;vertical-align:middle;margin-left:5px}input.returnBtn{background:#335c9c;border-radius:3px;border:0;color:#fff;cursor:pointer;height:25px;position:absolute;top:0;right:15px;width:60px}#cloudRgProtocalCon{position:relative;z-index:1012;width:715px;margin:0 auto;height:0;line-height:0;font-size:0;visibility:hidden;top:-9999px}div.cloudRgProtocal{background:#fff;font-size:12px;line-height:normal;height:485px;position:absolute;top:90px;margin:0 auto;width:715px}p.cloudRgProtocalTitle{height:35px;background:#5e85c0}p.cloudRgProtocalTitle span{color:#fff;line-height:35px;margin-left:20px}p.cloudRgProtocalTitle i{background:url(../web-static/images/routerBg.png) -422px -108px no-repeat;cursor:pointer;float:right;height:20px;width:20px;margin:7px 7px 0 0}div.cloudRgDetialCon{color:#3c3e43;padding:0 30px;margin:30px 10px 0;height:375px;overflow:hidden;text-align:center}div.cloudRgDetialCon h1{font-size:24px;line-height:24px;margin-bottom:40px}#cloudRgDetial{font-size:12px;text-align:left}label.proName{right:16px;font-size:12px;color:#fff;margin-top:18px;margin-left:20px;text-align:left;position:absolute}</style>