

<div class="appInstalledCon">
	<div id="appsInstallList"></div>
	<div id="appsInstallAppDetail" class="disNone"></div>
</div><script type="text/javascript">function init(){function k(a){var b="",d=!1;switch(parseInt(a,10)){case ENONE:return!0;case EINDEVICENOTBIND:b=errStr.appCloudUnBindInstall;d=!0;break;case ENOMEMORY:b=errStr.invMemoryOut;break;case EINVMEMORYOUT:b=errStr.routerFlashNotEnough;break;case ESYSBUSY:case EINVLASTOPTIONISNOTFINISHED:b=errStr.invLastOptionIsNotFinished;break;case EINVDEVICEIDNOTEXIST:case EINVERRORDEVICEIDFORMATERROR:case EINVILLEGALDEVICE:b=appendErrCode(label.cloudDeviceInfoExpt,a);break;default:b=cloudErrHandle(a),b=
!1==b.result?b.tip:appendErrCode(errStr.invRequestFailRefresh,a)}!0==d?showConfirm(b,function(a){!0==a&&(cloudSetBackBRHd(function(a){basicBRGoBackHandle(a)}),showCloudPage("CloudBindCfg.htm"))}):showAlert(b);return!1}function y(a){a=parseFloat(a)/1024;return a=a.toFixed(1)+"KB"}function z(a){for(var b=null,d=0,c=h.length;d<c;d++)if(b=h[d],b[r]==a)return b;return null}function m(a,b,d,c){var f=new ProgressBar;b=b.parentNode;var e={count:0};$(b).children().css("display","none");f.showProgBarApps(b,
function(b){!0==$.local&&(e.count+=20,e[ERR_CODE]=ENONE,b(e));d(a,b)},function(a,b){!0==$.local&&(e.count=0);$.setTimeout(function(){f.closeProgBar();"function"==typeof c&&c(a,b)},300)})}function t(a){!0==a?(n.style.display="none",u.style.display="block"):(n.style.display="block",u.style.display="none");emptyNodes(u)}function v(a){a=a[K];var b=0;0<=(b=a.lastIndexOf("/"))&&(gAppPreUrl=a.substring(0,b));loadAppPage(a,"appsInstallAppDetail")}function p(a){if(!0==$.local){var b=localPluginURI[a];t(!0);
v(b,a)}else basicAppsRefreshLoading(function(){if(null!=a){var b={};b[uciAppInfo.fileName]={};b[uciAppInfo.fileName][uciAppInfo.actionName.open]={};b[uciAppInfo.fileName][uciAppInfo.actionName.open][uciAppInfo.dynOptName.id]=a;$.action(b,function(a){k(a[ERR_CODE])?(t(!0),v(a)):t(!1)})}})}function B(a,b){var d={};$.action(a,function(a){var f=a[ERR_CODE];ENONE==f?(d.count=parseInt(a[uciAppInfo.dynOptName.progress]),d[ERR_CODE]=ENONE):(d.count=ERR_PERCENT,d[ERR_CODE]=f,closeProgBar(),k(f));b(d)},!0)}
function C(a,b){var d={},c;d[uciAppInfo.fileName]={};c=d[uciAppInfo.fileName][uciAppInfo.actionName.getAppStatus]={};c[uciAppInfo.dynOptName.id]=a;c[uciAppInfo.dynOptName.action]=uciAppInfo.dynOptValue.actionUpdate;B(d,b)}function D(a,b){var d={},c;d[uciAppInfo.fileName]={};c=d[uciAppInfo.fileName][uciAppInfo.actionName.getAppStatus]={};c[uciAppInfo.dynOptName.id]=a;c[uciAppInfo.dynOptName.action]=uciAppInfo.dynOptValue.actionUninstall;B(d,b)}function L(a,b,d,c){var f={},e=z(a);!0==c?m(a,b,D,d):null!=
e&&(f[uciAppInfo.fileName]={},f[uciAppInfo.fileName][uciAppInfo.actionName.uninstall]={},f[uciAppInfo.fileName][uciAppInfo.actionName.uninstall][uciAppInfo.dynOptName.id]=a,$.action(f,function(c){k(c[ERR_CODE])&&m(a,b,D,d)}))}function E(a,b,d){basicAppsRefreshLoading(function(){L(a,b,function(c,d){if(!0==c){a:for(var e=0,g=h.length;e<g;e++)if(h[e][r]==a){h.splice(e,1);break a}for(var e=n.childNodes,A=!1,q=0,l=e.length;q<l;q++)g=e[q],1==g.nodeType&&(g.appID==a?(n.removeChild(g),q--,l--,A=!0):!1!=A&&
(parseInt(g.style.marginLeft)==w?g.style.marginLeft="0px":g.style.marginLeft=w+"px"));updateFlashInfo()}else k(d),b.style.display="inline"},d)})}function M(a,b,d,c){var f={},e=z(a);!0==c?m(a,b,C,d):null!=e&&s==e[x]&&(f[uciAppInfo.fileName]={},f[uciAppInfo.fileName][uciAppInfo.actionName.update]={},f[uciAppInfo.fileName][uciAppInfo.actionName.update][uciAppInfo.dynOptName.id]=a,$.action(f,function(c){k(c[ERR_CODE])&&m(a,b,C,d)}))}function F(a,b,d){basicAppsRefreshLoading(function(){M(a,b,function(c,
d){if(!0==c){var e={};e[uciAppInfo.fileName]={};e[uciAppInfo.fileName][uciAppInfo.actionName.view]={};e[uciAppInfo.fileName][uciAppInfo.actionName.view][uciAppInfo.dynOptName.id]=a;$.action(e,function(b){if(k(b[ERR_CODE])){b=b[a];a:for(var c=null,d=0,e=h.length;d<e;d++)if(c=h[d],c[r]==b[r]){for(var f in b)c[f]=b[f];break a}f=$;a:{for(var c=n.childNodes,e=0,N=c.length;e<N;e++)if(d=c[e],1==d.nodeType&&d.appID==a){c=d;break a}c=null}f=f(c);f.find("i.logo").attr("src",b[G]);f.find("p.vs").html(label.version+
label.colon+b[H]+"<span>"+label.size+label.colon+y(b[I])+"</span>").css("display","block");f.find("a.updateDetail").css("display","none");f=f.find("input");try{s==b[x]?(f[0].style.display="inline",f[1].style.display="none"):(f[0].style.display="none",f[1].style.display="inline")}catch(p){}updateFlashInfo()}})}else k(d)&&showAlert(errStr.appUpdateFailTip),b.style.display="inline"},d)})}function J(){for(var a,b,d,c,f,e,g,k=uciAppInfo.dynOptValue.properties.handleInstall,q=uciAppInfo.optName.property,
l=0,m=h.length;l<m;l++)switch(a=h[l],b=a[r],c=document.createElement("div"),c.className="appConC",c.appID=b,1==l%2&&(c.style.marginLeft=w+"px"),n.appendChild(c),d=a[x],div=document.createElement("div"),div.className="appCon",s==d?(div.innerHTML='<p class="vs" style="display:none;"></p>',e=document.createElement("a"),e.className="updateDetail",e.innerHTML=label.updateNoteStr+">",e.href="javascript:void(0)",e.onclick=function(b,a){return function(){basicAppUpgradeInfoShow(this,a.replace(/\\n/gi,"<br />"),
35)}}(b,a[uciAppInfo.dynOptName.updateLog]),div.appendChild(e)):div.innerHTML='<p class="vs">'+label.version+label.colon+a[H]+"<span>"+label.size+label.colon+y(a[I])+"</span></p>",c.appendChild(div),c=document.createElement("span"),c.className="name",c.innerHTML=a[O],c.onclick=function(a){return function(){basicAppUpgradeInfoClose();p(a)}}(b),div.insertBefore(c,div.childNodes[0]),c=document.createElement("img"),c.className="logo",c.src=a[G],c.onclick=function(a){return function(){basicAppUpgradeInfoClose();
p(a)}}(b),div.appendChild(c),c=document.createElement("i"),c.className="logoShadow",c.onclick=function(a){return function(){basicAppUpgradeInfoClose();p(a)}}(b),div.appendChild(c),c=document.createElement("div"),c.className="appFunc",div.appendChild(c),e=document.createElement("input"),e.type="button",e.className="subBtn disNone",e.value=btn.update,e.onclick=function(a){return function(){basicAppUpgradeInfoClose();F(a,this,!1)}}(b),s==d&&(e.style.display="inline"),c.appendChild(e),g=document.createElement("input"),
g.type="button",g.className="subBtn disNone",g.value=btn.enter,s!=d&&(g.style.display="inline"),g.onclick=function(a){return function(){basicAppUpgradeInfoClose();p(a)}}(b),c.appendChild(g),k==a[q]&&(f=document.createElement("input"),f.type="button",f.className="cancelBtn",f.value=btn.unInstall,f.onclick=function(a){return function(){var b=this;basicAppUpgradeInfoClose();showConfirm(label.appDeleteTip,function(c){!0==c&&E(a,b,!1)})}}(b),c.appendChild(f)),a[uciAppInfo.dynOptName.operaType]){case uciAppInfo.dynOptValue.operaType.uninstall:E(b,
f,!0);break;case uciAppInfo.dynOptValue.operaType.update:F(b,e,!0)}}function P(){var a={};a[uciAppInfo.fileName]={};a[uciAppInfo.fileName][uciAppInfo.actionName.getInstalledApp]=null;!0==$.local?(h=formatTableData(localPluginInfo[uciAppInfo.optName.installedApp]),J()):$.action(a,function(a){k(a[ERR_CODE])&&(h=formatTableData(a[uciAppInfo.optName.installedApp]),J())})}var w=85,r=uciAppInfo.dynOptName.id,O=uciAppInfo.dynOptName.name,I=uciAppInfo.dynOptName.size,G=uciAppInfo.dynOptName.iconURL,x=uciAppInfo.dynOptName.updated,
H=uciAppInfo.dynOptName.version,K=uciAppInfo.dynOptName.pageURL,s=uciAppInfo.dynOptValue.updated.yes,n=id("appsInstallList"),u=id("appsInstallAppDetail"),h=[];if(0<gLoadAppDetail.appId.length){var Q=gLoadAppDetail.appId,R=gLoadAppDetail.uri;gSetLoadAppDetail("","");t(!0);v({uri:R},Q)}else!0==gAppSet.appInstallShow.detialTag?(p(gAppSet.appInstallShow.appID),gAppSet.appInstallShow={detialTag:!1,appID:-1}):P()}init();
</script><style type="text/css">#appsInstallList{padding:0 16px 0 63px}div.appCon span.name{cursor:pointer}div.appInstalledCon{width:745px}</style>