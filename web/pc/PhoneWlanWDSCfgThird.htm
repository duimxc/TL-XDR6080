

<h1 class="phoneTitle">{%label.phWDSTitle%}</h1>
<div class="WDSThBlock">
	<p class="WDSTitle">{%label.phSetWDSNameAndPwd%}</p>
	<ul class="switchBSUl">
		<p class="titleBS ib bold">{%label.phBS%}</p>
		<div id="switchBS" class="switchCon ib">
			<i class="switchBg"></i>
			<i class="switchBall"></i>
		</div>
		<p class="phBSTip">{%label.phBSTip%}</p>
	</ul>
	<p class="ctxBS phBSTip">{%label.phBSTip%}</p>
	<div class="openBS">
		<ul class="phInputUl">
			<p class="titleTip">{%label.wifiSet%}</p>
			<li class="phInputLi">
				<label for="wlanNameBS">{%label.wirelessName%}</label>
				<i class="clapboard"></i>
				<input id="wlanNameBS" maxlength="63" />
			</li>
			<li id="wlanNameNoteBS" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl">
			<li class="phInputLi">
				<label for="wlanPwdBS">{%label.wirelessPwd%}</label>
				<i class="clapboard"></i>
				<input id="wlanPwdBS" maxlength="63" type="password" />
				<i id="togglePwdShowBS" class="pwdShowOff"></i>
			</li>
			<li id="wlanPwdNoteBS" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
	</div>
	<div class="closeBS">
		<ul class="phInputUl input2G">
			<p class="titleTip">{%label.wifiSet2G%}</p>
			<li class="phInputLi">
				<label for="wlanName2G">{%label.wirelessName%}</label>
				<i class="clapboard"></i>
				<input id="wlanName2G" maxlength="63" />
			</li>
			<li id="wlanNameNote2G" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input2G">
			<li class="phInputLi">
				<label for="wlanPwd2G">{%label.wirelessPwd%}</label>
				<i class="clapboard"></i>
				<input id="wlanPwd2G" maxlength="63" type="password" />
				<i id="togglePwdShow2G" class="pwdShowOff"></i>
			</li>
			<li id="wlanPwdNote2G" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G">
			<p class="titleTip">{%label.wifiSet5G%}</p>
			<li class="phInputLi">
				<label for="wlanName5G">{%label.wirelessName%}</label>
				<i class="clapboard"></i>
				<input id="wlanName5G" maxlength="63" />
			</li>
			<li id="wlanNameNote5G" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G">
			<li class="phInputLi">
				<label for="wlanPwd5G">{%label.wirelessPwd%}</label>
				<i class="clapboard"></i>
				<input id="wlanPwd5G" maxlength="63" type="password" />
				<i id="togglePwdShow5G" class="pwdShowOff"></i>
			</li>
			<li id="wlanPwdNote5G" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G1">
			<p class="titleTip">{%label.wifiSet5G1%}</p>
			<li class="phInputLi">
				<label for="wlanName5G1">{%label.wirelessName%}</label>
				<i class="clapboard"></i>
				<input id="wlanName5G1" maxlength="63" />
			</li>
			<li id="wlanNameNote5G1" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G1">
			<li class="phInputLi">
				<label for="wlanPwd5G1">{%label.wirelessPwd%}</label>
				<i class="clapboard"></i>
				<input id="wlanPwd5G1" maxlength="63" type="password" />
				<i id="togglePwdShow5G1" class="pwdShowOff"></i>
			</li>
			<li id="wlanPwdNote5G1" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G2">
			<p class="titleTip">{%label.wifiSet5G2%}</p>
			<li class="phInputLi">
				<label for="wlanName5G2">{%label.wirelessName%}</label>
				<i class="clapboard"></i>
				<input id="wlanName5G2" maxlength="63" />
			</li>
			<li id="wlanNameNote5G2" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G2">
			<li class="phInputLi">
				<label for="wlanPwd5G2">{%label.wirelessPwd%}</label>
				<i class="clapboard"></i>
				<input id="wlanPwd5G2" maxlength="63" type="password" />
				<i id="togglePwdShow5G2" class="pwdShowOff"></i>

			</li>
			<li id="wlanPwdNote5G2" class="phErrTip disNone">
				<i class="error"></i><span class="errDes"></span>
			</li>
		</ul>
	</div>
</div>
<div class="phFunc">
	<label id="pre" class="phTwoBtn">{%btn.preStep%}</label>
	<label id="next" class="phTwoBtn" style="margin-left:20px;">{%btn.nextStep%}</label>
</div><script type="text/javascript">function init(){function f(a,c,b){switch(a){case ENONE:return!1;case EINVSSIDEMPTY:showPhoneNote(c,b,errStr.wlanSsidErr);break;case EINVSSIDBLANK:showPhoneNote(c,b,errStr.wlanSsidBlank);break;case EINVSSIDLEN:showPhoneNote(c,b,errStr.wlanSsidLenErr);break;case EINVWLANPWD:showPhoneNote(c,b,errStr.wlanPwdInvalid);break;case EINVPSKLEN:showPhoneNote(c,b,errStr.wlanPwdLenValid);break;default:showAlert(errStr.invRequestFail)}return!0}function k(a){var c=id("wlanName"+a).value,b=id("wlanPwd"+a).value,
d={};closePhoneNote("wlanName"+a,"wlanNameNote"+a);if(f(checkWlanName(c),"wlanName"+a,"wlanNameNote"+a)||f(checkWlanPwd(b),"wlanPwd"+a,"wlanPwdNote"+a))return!1;d.ssid=c;d.key=b;d.encryption=""==b?0:1;return d}function l(a){var c="#togglePwdShow"+a;$(c).click(function(){$(c).toggleClass("pwdShowOff pwdShowOn");id("wlanPwd"+a).type="pwdShowOff"==$(c).attr("class")?"password":"text"})}var g,d=["2G","5G","5G1","5G2","BS"],m=[FREQ_2G,FREQ_5G],n=[FREQ_2G,FREQ_5G1,FREQ_5G4];$("#next").click(function(){var a=
{lan:{ipaddr:gLanIP,ip_mode:"dynamic",netmask:gLanMask}},c={},b;gLocalAPInfo[FREQ_BS].bs_enable=g.state;if(gSupportBS&&"1"==g.state){b=k("BS");if(!1==b)return;gLocalAPInfo[FREQ_BS].ssid=b.ssid;gLocalAPInfo[FREQ_BS].key=b.key;gLocalAPInfo[FREQ_BS].encryption=b.encryption;c.wlan_bs={bs_enable:g.state,ssid:gLocalAPInfo[FREQ_BS].ssid,key:gLocalAPInfo[FREQ_BS].key,encryption:gLocalAPInfo[FREQ_BS].encryption}}else{for(var f=gBandNum==BAND_3?n:m,h=0;h<f.length;h++){var e=f[h];b=k(d[e]);if(!1==b)return;gLocalAPInfo[e].ssid=
b.ssid;gLocalAPInfo[e].key=b.key;gLocalAPInfo[e].encryption=b.encryption;c[gKeyNames[gBandNum].wlan_host[e]]={ssid:gLocalAPInfo[e].ssid,key:gLocalAPInfo[e].key,encryption:gLocalAPInfo[e].encryption}}c.wlan_bs={bs_enable:"0"}}b={};b.network=a;b.dhcpd={udhcpd:{enable:"0",auto:"1"}};b.wireless=c;gWifiCfgToSave=b;gSysMode=uciSystem.optValue.sysMode.wdsMode;g11AxSupport.wlan2g||g11AxSupport.wlan5g||g11AxSupport.wlan5g1||g11AxSupport.wlan5g4?loadPage("PhoneWizardWirelessAx.htm","phCon"):$.modify({system:{sys_mode:{mode:gSysMode}}},
function(a){!0==errHandle(a[ERR_CODE])&&$.modify(gWifiCfgToSave,function(a){!0==errHandle(a[ERR_CODE])&&loadPage("PhoneWlanWDSCfgEnd.htm","phCon")})})});$("#pre").click(function(){backFromNextPage=!0;gWDSPwdErrList=[];loadPage("PhoneWlanWDSCfgSecond.htm","phCon")});for(var a in d)l(d[a]);gBandNum==BAND_3&&$(".phBSTip").html(label.phBS3BandTip);g=new Switch("switchBS",gLocalAPInfo[FREQ_BS].bs_enable,function(){return function(a){var c=$("#switchBS").children(":first-child");"1"==a?(c.attr("class",
"switchBg"),$(".openBS").show(),$(".closeBS").hide()):(c.attr("class","switchBgOff"),$(".openBS").hide(),$(".closeBS").show(),gBandNum==BAND_3&&($(".input5G1").show(),$(".input5G2").show()),gBandNum==BAND_2&&$(".input5G").show())}}());for(a=0;a<FREQ_BS;a++)"undefined"!=typeof wdsTargetSelFreq[a]&&wdsTargetSelFreq[a].selected&&2==wdsTargetSelFreq[a].status?($("#wlanName"+d[a]).val(gRootAPInfo[a].ssid),$("#wlanPwd"+d[a]).val(gRootAPInfo[a].key)):($("#wlanName"+d[a]).val(gLocalAPInfo[a].ssid),$("#wlanPwd"+
d[a]).val(gLocalAPInfo[a].key));if(gSupportBS)for(a in wdsTargetSelFreq){if(wdsTargetSelFreq[a].selected&&2==wdsTargetSelFreq[a].status){$("#wlanNameBS").val(gRootAPInfo[a].ssid);$("#wlanPwdBS").val(gRootAPInfo[a].key);break}}else $(".switchBSUl").hide()}init();
</script><style type="text/css">p.WDSTitle{width:280px;margin:16px auto;color:#fff;font-size:14px;text-align:left}.phInputUl p{color:#fff;font-size:14px;text-align:left}.phInputUl .titleTip{font-size:14px;font-weight:bold;margin-bottom:8px}li.phInputLi input{box-sizing:border-box}.ib{display:inline-block}#switchBS{font-size:14px;line-height:20px;float:right}.input5G{display:none}.input5G1{display:none}.input5G2{display:none}.bold{font-weight:bold}ul.switchBSUl{margin:0 auto;width:280px;height:42px;border-bottom:solid 1px rgba(255,255,255,0.4)}ul.switchBSUl p.titleBS{line-height:42px;font-size:14px;color:#fff}ul.switchBSUl div{margin-top:9px}p.ctxBS{font-size:14px;color:#fff;margin:8px auto 40px;width:280px;margin-top:8px}li.phErrTip i.error{background:url(../web-static/images/error@2x.png) no-repeat;width:16px;height:16px;top:0;background-size:cover}li.phErrTip span.errDes{line-height:16px}</style>