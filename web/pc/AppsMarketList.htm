

<div id="appsMarketList"></div>
<div id="appsMarketAppDetail" class="disNone">
	<div class="appsDetailTitleCon">
		<span class="name"></span>
		<p class="author"></p>
		<p class="tvs"></p>
		<a class="updateInnerDetail" href="javascript:void(0)">{%label.updateNoteStr%}></a>
		<div class="appsDetailFunc">
			<input id="detailInstallBtn" type="button" class="subBtn btnA" value="{%btn.install%}" />
			<input id="detailUpdateBtn" type="button" class="subBtn btnA" value="{%btn.update%}" />
			<input id="detailOpenBtn" type="button" class="subBtn btnA" value="{%btn.enter%}" />
		</div>
	</div>
	<div id="appsDetailDesCon"><img class="appsDetailDesc" /></div>
</div><script type="text/javascript">function init(){function h(b){var c="",d=!1;switch(parseInt(b,10)){case ENONE:return!0;case EINDEVICENOTBIND:c=errStr.appCloudUnBindInstall;d=!0;break;case ENOMEMORY:c=errStr.invMemoryOut;break;case EINVMEMORYOUT:c=errStr.routerFlashNotEnough;break;case ESYSBUSY:case EINVLASTOPTIONISNOTFINISHED:c=errStr.invLastOptionIsNotFinished;break;case EINVDEVICEIDNOTEXIST:case EINVERRORDEVICEIDFORMATERROR:case EINVCLOUDDEVICEILLEGAL:case EINVILLEGALDEVICE:c=appendErrCode(label.cloudDeviceInfoExpt,b);break;default:c=
cloudErrHandle(b),c=!1==c.result?c.tip:appendErrCode(errStr.invRequestFailRefresh,b)}!0==d?showConfirm(c,function(b){!0==b&&(cloudSetBackBRHd(function(b){basicBRGoBackHandle(b)}),showCloudPage("CloudBindCfg.htm"))}):showAlert(c);return!1}function z(b){b=parseFloat(b)/1024;return b=b.toFixed(1)+"KB"}function t(b){for(var c=null,d=0,e=n.length;d<e;d++)if(c=n[d],c[u]==b)return c;return null}function H(b){for(var c=null,d=0,e=n.length;d<e;d++)if(c=n[d],c[u]==b[u]){for(var f in b)c[f]=b[f];break}}function I(b){for(var c=
A.childNodes,d,e=0,f=c.length;e<f;e++)if(d=c[e],1==d.nodeType&&d.appID==b)return d;return null}function J(b,c){b[0].style.display=c[k]==l?"none":"inline";b[1].style.display=p==c[q]&&c[k]==l?"inline":"none";b[2].style.display=c[k]!=l&&p!=c[q]?"none":"inline"}function K(b,c){var d=$(I(c));d.find("i.logo").attr("src",b[B]);d.find("p.vs").html(label.version+label.colon+b[C]+"<span>"+label.size+label.colon+z(b[D])+"</span>").css("display","block");d.find("a.updateDetail").css("display","none");J(d.find("input"),
b)}function v(b,c,d,e){var f=new ProgressBar;c=c.parentNode;var g={count:0};$(c).children().css("display","none");f.showProgBarApps(c,function(c){!0==$.local&&(g.count+=20,g[ERR_CODE]=ENONE,c(g));d(b,c)},function(b,c){!0==$.local&&(g.count=0);$.setTimeout(function(){f.closeProgBar();"function"==typeof e&&e(b,c)},300)})}function L(b,c){basicAppsRefreshLoading(function(){M(b,m,function(c,e){if(!0==c){var f={};f[uciAppInfo.fileName]={};f[uciAppInfo.fileName][uciAppInfo.actionName.view]={};f[uciAppInfo.fileName][uciAppInfo.actionName.view][uciAppInfo.dynOptName.id]=
b;$.action(f,function(c){h(c[ERR_CODE])&&(c=c[b],H(c),N(c),K(c,b),updateFlashInfo())});r.style.display="inline"}else h(e),m.style.display="inline"},c)})}function O(b,c){basicAppsRefreshLoading(function(){P(b,s,function(c,e){if(!0==c){var f=t(b),g=I(b),E=g.id=g.className+b,E=$("#"+E+" input");g.id="";f[k]=l;J(E,f);r.style.display="inline";updateFlashInfo()}else h(e),s.style.display="inline"},c)})}function N(b){Q.css("background","url("+b[B]+") no-repeat");R.html(b[F]);S.html(b[Z]);b[k]==l&&b[q]==p?
(w.css("display","none"),G.css("display","block").click(function(){basicAppUpgradeInfoShow(G,b[uciAppInfo.dynOptName.updateLog].replace(/\\n/gi,"<br />"))})):(w[0].innerHTML=label.appReleaseTime+label.colon+b[aa]+"<span>"+label.version+label.colon+b[C]+"</span><span>"+label.size+label.colon+z(b[D])+"</span>",w.css("display","block"),G.css("display","none"));x.src=b[ba]+"?t="+(new Date).getTime();x.onload=function(){x.style.visibility="visible"}}function ca(b,c){gAppSet.beAppDetailShow=!0;N(b);b[k]==
l?b[q]==p?m.style.display="inline":r.style.display="inline":s.style.display="inline";m.onclick=function(){"none"!=this.style.display&&(basicAppUpgradeInfoClose(),L(c,!1))};r.onclick=function(){"none"!=this.style.display&&(basicAppUpgradeInfoClose(),gAppSet.appInstallShow={detialTag:!0,appID:c},gAppSet.beAppDetailShow=!1,id("menuBAppsUl").childNodes[1].onclick())};s.onclick=function(){"none"!=this.style.display&&(basicAppUpgradeInfoClose(),O(c,!1))};switch(b[uciAppInfo.dynOptName.operaType]){case uciAppInfo.dynOptValue.operaType.install:basicAppUpgradeInfoClose();
O(c,!0);break;case uciAppInfo.dynOptValue.operaType.update:basicAppUpgradeInfoClose(),L(c,!0)}}function T(b){basicAppsRefreshLoading(function(){var c={};null!=b&&(c[uciAppInfo.fileName]={},c[uciAppInfo.fileName][uciAppInfo.actionName.view]={},c[uciAppInfo.fileName][uciAppInfo.actionName.view][uciAppInfo.dynOptName.id]=b,Q.css("background",""),R.html(""),S.html(""),emptyNodes(w[0]),x.style.visibility="hidden",s.style.display="none",m.style.display="none",r.style.display="none",s.onclick=null,m.onclick=
null,r.onclick=null,A.style.display="none",da.style.display="block",function(){$.action(c,function(c){h(c[ERR_CODE])&&ca(c[b],b)})}())})}function U(b,c){var d={};$.action(b,function(b){var f=b[ERR_CODE];ENONE==f?(d.count=parseInt(b[uciAppInfo.dynOptName.progress]),d[ERR_CODE]=ENONE):(d.count=ERR_PERCENT,d[ERR_CODE]=f,closeProgBar(),h(f));c(d)},!0)}function V(b,c){var d={},e;d[uciAppInfo.fileName]={};e=d[uciAppInfo.fileName][uciAppInfo.actionName.getAppStatus]={};e[uciAppInfo.dynOptName.id]=b;e[uciAppInfo.dynOptName.action]=
uciAppInfo.dynOptValue.actionUpdate;U(d,c)}function W(b,c){var d={},e;d[uciAppInfo.fileName]={};e=d[uciAppInfo.fileName][uciAppInfo.actionName.getAppStatus]={};e[uciAppInfo.dynOptName.id]=b;e[uciAppInfo.dynOptName.action]=uciAppInfo.dynOptValue.actionInstall;U(d,c)}function P(b,c,d,e){var f={},g=t(b);!0==e?v(b,c,W,d):null!=g&&g[k]==ea&&(f[uciAppInfo.fileName]={},f[uciAppInfo.fileName][uciAppInfo.actionName.install]={},f[uciAppInfo.fileName][uciAppInfo.actionName.install][uciAppInfo.dynOptName.id]=
b,$.action(f,function(e){h(e[ERR_CODE])&&v(b,c,W,d)}))}function X(b,c,d){basicAppsRefreshLoading(function(){P(b,c,function(d,f){!0==d?(t(b)[k]=l,$(c).siblings("input.open").css("display","inline"),updateFlashInfo()):(h(f)&&showAlert(errStr.appInstallFailTip),c.style.display="inline")},d)})}function M(b,c,d,e){var f={},g=t(b);!0==e?v(b,c,V,d):null!=g&&p==g[q]&&g[k]==l&&(f[uciAppInfo.fileName]={},f[uciAppInfo.fileName][uciAppInfo.actionName.update]={},f[uciAppInfo.fileName][uciAppInfo.actionName.update][uciAppInfo.dynOptName.id]=
b,$.action(f,function(e){h(e[ERR_CODE])&&v(b,c,V,d)}))}function Y(b,c,d){basicAppsRefreshLoading(function(){M(b,c,function(d,f){if(!0==d){var g={};g[uciAppInfo.fileName]={};g[uciAppInfo.fileName][uciAppInfo.actionName.view]={};g[uciAppInfo.fileName][uciAppInfo.actionName.view][uciAppInfo.dynOptName.id]=b;$.action(g,function(c){h(c[ERR_CODE])&&(c=c[b],H(c),K(c,b),updateFlashInfo())});$(c).siblings("input.open").css("display","inline")}else h(f)&&showAlert(errStr.appUpdateFailTip),c.style.display="inline"},
d)})}function fa(){for(var b,c,d,e,f,g,h=0,m=n.length;h<m;h++)switch(b=n[h],c=b[u],d=p==b[q]&&b[k]==l,e=document.createElement("div"),e.className="appConC",e.appID=c,1==h%2&&(e.style.marginLeft=ga+"px"),A.appendChild(e),div=document.createElement("div"),div.className="appCon",!0==d?(div.innerHTML='<span class="name">'+b[F]+'</span><p class="vs" style="display:none;"></p>',a=document.createElement("a"),a.className="updateDetail",a.innerHTML=label.updateNoteStr+">",a.href="javascript:void(0)",a.onclick=
function(b,c){return function(){basicAppUpgradeInfoShow(this,c.replace(/\\n/gi,"<br />"))}}(c,b[uciAppInfo.dynOptName.updateLog]),div.appendChild(a)):div.innerHTML='<span class="name">'+b[F]+'</span><p class="vs">'+label.version+label.colon+b[C]+"<span>"+label.size+label.colon+z(b[D])+"</span></p>",e.appendChild(div),e=document.createElement("img"),e.className="logo",e.src=b[B],e.onclick=function(b){return function(){basicAppUpgradeInfoClose();T(b)}}(c),div.appendChild(e),e=document.createElement("i"),
e.className="logoShadow",e.onclick=function(b){return function(){basicAppUpgradeInfoClose();T(b)}}(c),div.appendChild(e),e=document.createElement("div"),e.className="appFunc",div.appendChild(e),f=document.createElement("input"),f.type="button",f.className="subBtn",f.value=btn.install,b[k]==l&&(f.style.display="none"),f.onclick=function(b){return function(){basicAppUpgradeInfoClose();X(b,this,!1)}}(c),e.appendChild(f),g=document.createElement("input"),g.type="button",g.className="subBtn disNone",g.value=
btn.update,!0==d&&(g.style.display="inline"),g.onclick=function(b){return function(){basicAppUpgradeInfoClose();Y(b,this,!1)}}(c),e.appendChild(g),d=document.createElement("input"),d.type="button",d.className="subBtn open disNone",d.value=btn.enter,p!=b[q]&&b[k]==l&&(d.style.display="inline"),d.onclick=function(b){return function(){basicAppUpgradeInfoClose();gAppSet.appInstallShow={detialTag:!0,appID:b};gAppSet.beAppDetailShow=!1;id("menuBAppsUl").childNodes[1].onclick()}}(c),e.appendChild(d),b[uciAppInfo.dynOptName.operaType]){case uciAppInfo.dynOptValue.operaType.install:X(c,
f,!0);break;case uciAppInfo.dynOptValue.operaType.update:Y(c,g,!0)}}var ga=85,u=uciAppInfo.dynOptName.id,F=uciAppInfo.dynOptName.name,Z=uciAppInfo.dynOptName.author,D=uciAppInfo.dynOptName.size,aa=uciAppInfo.dynOptName.releaseTime,B=uciAppInfo.dynOptName.iconURL,k=uciAppInfo.dynOptName.status,ba=uciAppInfo.dynOptName.descriptionUrl,q=uciAppInfo.dynOptName.updated,C=uciAppInfo.dynOptName.version,l=uciAppInfo.dynOptValue.installed.yes,ea=uciAppInfo.dynOptValue.installed.no,p=uciAppInfo.dynOptValue.updated.yes,
Q=$("div.appsDetailTitleCon"),R=$("div.appsDetailTitleCon span.name"),S=$("div.appsDetailTitleCon p.author"),w=$("div.appsDetailTitleCon p.tvs"),x=$("img.appsDetailDesc")[0],s=id("detailInstallBtn"),m=id("detailUpdateBtn"),r=id("detailOpenBtn"),G=$("a.updateInnerDetail"),A=id("appsMarketList"),da=id("appsMarketAppDetail"),n=[],y;y=new NiceScroll("appsDetailDesCon");y.scrollTipOpacity(1);y.scrollTipSet({background:"#90AC1F"});y.init();(function(){var b={};b[uciAppInfo.fileName]={};b[uciAppInfo.fileName][uciAppInfo.actionName.getMarketApp]=
null;(function(){$.action(b,function(b){h(b[ERR_CODE])&&(closeLoading(),n=formatTableData(b[uciAppInfo.optName.marketApp]),fa())})})()})()}init();
</script><style type="text/css">#appsMarketAppDetail{padding-bottom:20px}div.appsDetailTitleCon{padding-left:103px;height:83px;position:relative}div.appsDetailTitleCon span.name{color:#fff;font-size:24px;line-height:20px}div.appsDetailTitleCon p.author{color:#fff;font-size:12px;margin-top:16px}div.appsDetailTitleCon p.tvs{color:#fff;font-size:12px;margin-top:5px}div.appsDetailTitleCon p.tvs span{margin-left:5px}div.appsDetailFunc{position:absolute;right:0;top:28px;text-align:right;width:180px}#appsDetailDesCon{height:335px;left:63px;overflow:hidden;position:absolute;top:83px;width:680px;margin-top:30px;*zoom:1}img.appsDetailDesc{color:#fff;width:620px}</style>